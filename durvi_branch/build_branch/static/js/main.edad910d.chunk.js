(this.webpackJsonpdurvi_app=this.webpackJsonpdurvi_app||[]).push([[0],{121:function(e,t,a){},147:function(e,t,a){var s={"./ar":65,"./ar.js":65,"./az":66,"./az.js":66,"./be":67,"./be.js":67,"./bg":68,"./bg.js":68,"./bs":69,"./bs.js":69,"./ca":70,"./ca.js":70,"./cs":71,"./cs.js":71,"./cy":72,"./cy.js":72,"./da":73,"./da.js":73,"./de":74,"./de.js":74,"./el":75,"./el.js":75,"./en":52,"./en.js":52,"./es":76,"./es.js":76,"./et":77,"./et.js":77,"./eu":78,"./eu.js":78,"./fa":79,"./fa.js":79,"./fi":80,"./fi.js":80,"./fr":81,"./fr.js":81,"./hr":82,"./hr.js":82,"./hu":83,"./hu.js":83,"./id":84,"./id.js":84,"./it":85,"./it.js":85,"./ja":86,"./ja.js":86,"./ka":87,"./ka.js":87,"./ko":88,"./ko.js":88,"./lt":89,"./lt.js":89,"./lv":90,"./lv.js":90,"./mk":91,"./mk.js":91,"./mn":92,"./mn.js":92,"./ms":93,"./ms.js":93,"./nb_NO":94,"./nb_NO.js":94,"./nl":95,"./nl.js":95,"./pl":96,"./pl.js":96,"./pt":97,"./pt.js":97,"./pt_BR":98,"./pt_BR.js":98,"./ro":99,"./ro.js":99,"./ru":100,"./ru.js":100,"./se":101,"./se.js":101,"./sl":102,"./sl.js":102,"./sq":103,"./sq.js":103,"./sr":104,"./sr.js":104,"./sv":105,"./sv.js":105,"./tr":106,"./tr.js":106,"./ua":107,"./ua.js":107,"./uk":108,"./uk.js":108,"./vi":109,"./vi.js":109,"./zh":110,"./zh.js":110,"./zh_TW":111,"./zh_TW.js":111};function r(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id=147},156:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),n=a(32),i=a.n(n),c=(a(121),a(12)),o=a(13),l=a(15),d=a(14),h=(a(122),a(8)),u=a.n(h),j=a(19),b=a(23),m=a(21),x=a.n(m),p=a(113),O=a(158),g=a(159),f=a(34),v=a(18),N=(a(37),a(0)),y=a(27),C=a.n(y),D=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={details:s.props.details},s}return Object(o.a)(a,[{key:"loginAgain",value:function(){window.location.href=v.loginPage}},{key:"render",value:function(){var e=this.state.details;return console.log("dgfdf",e),Object(N.jsx)("div",{style:{backgroundColor:"#D6EAF880"},className:"container-fluid",children:"error"==e.status?Object(N.jsx)("h1",{children:"Error: Please retry later. If the error persists, contact the admin."}):Object(N.jsx)(N.Fragment,{children:403==e.status?Object(N.jsxs)(N.Fragment,{children:[" ",Object(N.jsx)("h1",{children:"Your session has expired! Please Login again!"}),Object(N.jsx)("button",{type:"primary",onClick:this.loginAgain(),children:"OK"})]}):Object(N.jsx)(N.Fragment,{children:"Network Error"==e.status?Object(N.jsx)("h1",{children:"There is network issue please try again"}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h1",{children:"Page Not found"}),Object(N.jsx)("h1",{children:"We are Sorry, Page Not Found"}),Object(N.jsx)("h3",{children:"The page you are looking is Temporary Unavailable. Please try after some time. If this continues please contact team."})]})})})})}}]),a}(r.a.Component),k=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={apiError:null,masg:"Today is holiday.",branchCode:s.props.branchCode,token:localStorage.getItem("branchToken")},s}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState({masg:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var a,s,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.state.value),a=v.sendMessage,s={message:this.state.value,branchCode:this.state.branchCode},e.next=5,x.a.post(a,s,{headers:{Authorization:this.state.token}}).then((function(e){console.log(e.data),"error"==e.data.status?r.setState({apiError:e.data}):alert("message sent successfully")})).catch((function(e){e.response?r.setState({apiError:e.response}):r.setState({apiError:{status:"Network Error"}})}));case 5:t.preventDefault();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(N.jsx)(r.a.Fragment,{children:this.state.apiError?Object(N.jsx)(D,{details:this.state.apiError}):Object(N.jsx)("div",{style:{backgroundColor:"whitesmoke"},className:"container-fluid",children:Object(N.jsx)("div",{style:{padding:5,marginBottom:5},children:Object(N.jsx)("div",{className:"row m-5",children:Object(N.jsxs)("form",{onSubmit:this.handleSubmit.bind(this),className:"form-control",children:[Object(N.jsx)("label",{children:"  Write message:"}),Object(N.jsx)("input",{type:"text",value:this.state.masg,onChange:this.handleChange.bind(this),style:{width:"80%"}}),Object(N.jsx)("button",{type:"Send to all",className:"btn btn-primary btn-sm",children:"Submit"})]})})})})})}}]),a}(s.Component),w=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).d=new Date,s.month=("0"+(s.d.getMonth()+1)).slice(-2),s.date=("0"+s.d.getDate()).slice(-2),s.day=s.d.getDay(),s.dformat=[s.day,s.month,s.d.getFullYear(),s.date],s.handleSearchInput=function(e){var t=e.target.value.toLowerCase(),a=s.state.allData.filter((function(e){if(e.userName.toLowerCase().match(t))return e}));0!=a.length?s.setState({userData:a}):(s.setState({userData:s.state.allData}),alert("User name not exist"))},s.state={optionRadio:["3 Months","6 Months","1 Year"],apiError:null,showPaymentModal:!1,userData:[],allData:[],showModal:!1,sendData:{},paymentData:{},value:"Today is holiday.",branchCode:s.props.match.params.branch,token:localStorage.getItem("branchToken"),weekDay:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],fields:{sNo:"",userName:"",mobileNumber:"",joiningDate:"",dueDate:"",status:"",branchCode:"",subscription:"None",amount:""},errors:{}},s.form=new C.a(Object(b.a)(s),{locale:"en"}),s.form.useRules({userName:"required",mobileNumber:"required|numeric",branchCode:"required",amount:"required|numeric",status:"required",subscription:"required"}),s.paymentSubmit=s.paymentSubmit.bind(Object(b.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getDetails()}},{key:"getDetails",value:function(){var e=Object(j.a)(u.a.mark((function e(){var t,a,s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.state.branchCode),t=v.userDetails+"?branch="+this.state.branchCode,console.log(t,this.state.token),a=[],e.next=6,x.a.get(t,{headers:{Authorization:this.state.token}}).then((function(e){"error"==e.data.status?s.setState({apiError:e.data}):a=e.data})).catch((function(e){e.response?s.setState({apiError:e.response}):s.setState({apiError:{status:"Network Error"}})}));case 6:"Add user"==a&&(alert("Add user first"),this.props.history.push("/branch/adduser/".concat(this.state.branchCode))),this.setState({userData:a,allData:a});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleCloseShow",value:function(){this.setState({showModal:!1})}},{key:"handleSubmitShow",value:function(){this.setState({showModal:!1})}},{key:"showData",value:function(e){this.setState({showModal:!0,sendData:e})}},{key:"handleClosePayment",value:function(){this.setState({showPaymentModal:!1})}},{key:"handleSubmitPayment",value:function(){var e=Object(j.a)(u.a.mark((function e(){var t,a=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("data",this.state.fields.amount),""!=this.state.fields.amount){e.next=6;break}return alert("Enter Amount"),e.abrupt("return",!1);case 6:return console.log(this.state.fields),t=v.userPayment,e.next=10,x.a.put(t,this.state.fields,{headers:{Authorization:this.state.token}}).then((function(e){"error"==e.data.status?a.setState({apiError:e.data}):a.setState({showPaymentModal:"false"})})).catch((function(e){e.response?a.setState({apiError:e.response}):a.setState({apiError:{status:"Network Error"}})}));case 10:this.setState({showPaymentModal:!1}),this.getDetails();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"paymentSubmit",value:function(e){console.log(e),this.setState({showPaymentModal:!0});var t={sNo:e.sNo,userName:e.userName,mobileNumber:e.mobileNumber,branchCode:e.branchCode,amount:"",joiningDate:e.joiningDate,dueDate:e.dueDate,status:e.status,subscription:"None"};this.setState({fields:t})}},{key:"editData",value:function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.history.push({pathname:"/branch/editData",state:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Filteration",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,e.next=3,this.getDetails();case 3:"All"!=a&&(s=[],s=0!=a?this.state.userData.filter((function(e){return e.paymentDate==a})):this.state.userData.filter((function(e){return e.paymentDate<0})),console.log(s),0!=s.length?this.setState({userData:s}):alert("Data not find"));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.state.fields),Object(N.jsx)(r.a.Fragment,{children:this.state.apiError?Object(N.jsx)(D,{details:this.state.apiError}):Object(N.jsx)(N.Fragment,{children:0==this.state.userData.length?Object(N.jsxs)("div",{className:"d-flex justify-content-center mt-5",children:[Object(N.jsx)("h3",{children:" Loading"})," ",Object(N.jsx)("div",{className:"spinner-border",style:{width:"3rem",height:"3rem",color:"green"},role:"status"})]}):Object(N.jsxs)("div",{style:{backgroundColor:"whitesmoke"},className:"container-fluid",children:[Object(N.jsxs)("div",{style:{padding:5,marginBottom:5},children:[Object(N.jsx)("div",{className:"row m-5",children:Object(N.jsx)(k,{branchCode:this.state.branchCode})}),Object(N.jsxs)("div",{className:"row m-4",children:[Object(N.jsx)("div",{className:"col-6",children:Object(N.jsx)(p.a,{onChange:this.handleSearchInput,value:this.state.searchText,type:"text",placeholder:"Search by name"})}),Object(N.jsx)("div",{className:"col-6",children:Object(N.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(t){return e.Filteration(t)},children:[Object(N.jsx)("option",{value:"All",children:"All"}),Object(N.jsx)("option",{value:"3",children:"Three day due date"}),Object(N.jsx)("option",{value:"2",children:"Two day due date"}),Object(N.jsx)("option",{value:"1",children:"Ond day due date"}),Object(N.jsx)("option",{value:"0",children:"Expiry"})]})})]}),Object(N.jsx)("div",{className:"table-responsive-sm",children:Object(N.jsxs)("table",{className:"table",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"col",children:"User Name"}),Object(N.jsx)("th",{scope:"col",children:"Mobile Number"}),Object(N.jsx)("th",{scope:"col",children:"Joining Date"}),Object(N.jsx)("th",{scope:"col",children:"Expiry Date"}),Object(N.jsx)("th",{scope:"col",children:"Subscription"}),Object(N.jsx)("th",{scope:"col",children:"Amount"}),Object(N.jsx)("th",{scope:"col",children:"Payment"}),Object(N.jsx)("th",{scope:"col",children:"Status"}),Object(N.jsx)("th",{scope:"col",children:"Action"})]})}),Object(N.jsx)("tbody",{children:this.state.userData.map((function(t,a){return t.paymentDate<=1&&"Active"==t.status?Object(N.jsxs)("tr",{class:"table-danger",children:[Object(N.jsx)("th",{scope:"row",className:"text-primary",onClick:function(){return e.showData(t)},children:t.userName}),Object(N.jsx)("td",{children:t.mobileNumber}),Object(N.jsx)("td",{children:t.joiningDate}),Object(N.jsx)("td",{children:t.dueDate}),Object(N.jsx)("td",{children:t.subscription}),Object(N.jsx)("td",{children:t.amount}),Object(N.jsx)("td",{children:Object(N.jsx)(O.a,{className:"btn btn-primary",onClick:function(){return e.paymentSubmit(t)},children:"Payment"})}),Object(N.jsx)("td",{children:t.status}),Object(N.jsxs)("td",{children:["   ",Object(N.jsx)(O.a,{className:"btn btn-primary",onClick:function(){return e.editData(t)},children:"Edit"})]})]}):2==t.paymentDate&&"Active"==t.status?Object(N.jsxs)("tr",{class:"table-warning",children:[Object(N.jsx)("th",{scope:"row",className:"text-primary",onClick:function(){return e.showData(t)},children:t.userName}),Object(N.jsx)("td",{children:t.mobileNumber}),Object(N.jsx)("td",{children:t.joiningDate}),Object(N.jsx)("td",{children:t.dueDate}),Object(N.jsx)("td",{children:t.subscription}),Object(N.jsx)("td",{children:t.amount}),Object(N.jsxs)("td",{children:["   ",Object(N.jsx)(O.a,{className:"btn btn-primary",onClick:function(){return e.paymentSubmit(t)},children:"Payment"})]}),Object(N.jsx)("td",{children:t.status}),Object(N.jsxs)("td",{children:["   ",Object(N.jsx)(O.a,{className:"btn btn-primary",onClick:function(){return e.editData(t)},children:"Edit"})]})]}):3==t.paymentDate&&"Active"==t.status?Object(N.jsxs)("tr",{className:"table-success",children:[Object(N.jsx)("th",{scope:"row",className:"text-primary",onClick:function(){return e.showData(t)},children:t.userName}),Object(N.jsx)("td",{children:t.mobileNumber}),Object(N.jsx)("td",{children:t.joiningDate}),Object(N.jsx)("td",{children:t.dueDate}),Object(N.jsx)("td",{children:t.subscription}),Object(N.jsx)("td",{children:t.amount}),Object(N.jsxs)("td",{children:["   ",Object(N.jsx)(O.a,{className:"btn btn-primary",onClick:function(){return e.paymentSubmit(t)},children:"Payment"})]}),Object(N.jsx)("td",{children:t.status}),Object(N.jsxs)("td",{children:["   ",Object(N.jsx)(O.a,{className:"btn btn-primary",onClick:function(){return e.editData(t)},children:"Edit"})]})]}):"Inactive"==t.status?Object(N.jsxs)("tr",{className:"table-dark",children:[Object(N.jsx)("th",{scope:"row",className:"text-primary",onClick:function(){return e.showData(t)},children:t.userName}),Object(N.jsx)("td",{children:t.mobileNumber}),Object(N.jsx)("td",{children:t.joiningDate}),Object(N.jsx)("td",{children:t.dueDate}),Object(N.jsx)("td",{children:t.subscription}),Object(N.jsx)("td",{children:t.amount}),Object(N.jsxs)("td",{children:["   ",Object(N.jsx)(O.a,{className:"btn btn-primary",onClick:function(){return e.paymentSubmit(t)},children:"Payment"})]}),Object(N.jsx)("td",{children:t.status}),Object(N.jsxs)("td",{children:["   ",Object(N.jsx)(O.a,{className:"btn btn-primary",onClick:function(){return e.editData(t)},children:"Edit"})]})]}):Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"row",className:"text-primary",onClick:function(){return e.showData(t)},children:t.userName}),Object(N.jsx)("td",{children:t.mobileNumber}),Object(N.jsx)("td",{children:t.joiningDate}),Object(N.jsx)("td",{children:t.dueDate}),Object(N.jsx)("td",{children:t.subscription}),Object(N.jsx)("td",{children:t.amount}),Object(N.jsxs)("td",{children:["   ",Object(N.jsx)(O.a,{className:"btn btn-primary",onClick:function(){return e.paymentSubmit(t)},children:"Payment"})]}),Object(N.jsx)("td",{children:t.status}),Object(N.jsxs)("td",{children:["   ",Object(N.jsx)(O.a,{className:"btn btn-primary",onClick:function(){return e.editData(t)},children:"Edit"})]})]})}))})]})})]}),Object(N.jsxs)(g.a,{show:this.state.showModal,onHide:function(){return e.handleCloseShow()},size:"lg",children:[Object(N.jsx)(g.a.Header,{closeButton:!0,children:Object(N.jsxs)(g.a.Title,{children:[this.state.sendData.userName," Details"]})}),Object(N.jsx)(g.a.Body,{children:Object(N.jsxs)(f.a,{className:"myForm",children:[Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Branch Code ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"branchCode",disabled:!0,value:this.state.sendData.branchCode,"data-attribute-name":""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" User Name ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"userName",value:this.state.sendData.userName,"data-attribute-name":""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Mobile Number ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"mobileNumber",value:this.state.sendData.mobileNumber,"data-attribute-name":""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Joining Date ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"joiningDate",value:this.state.sendData.joiningDate,"data-attribute-name":""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Paid Date ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"paidDate",value:this.state.sendData.paidDate,"data-attribute-name":""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Due Date ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"dueDate",value:this.state.sendData.dueDate,"data-attribute-name":""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Status ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"status",value:this.state.sendData.status,"data-attribute-name":""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Subscription ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"subscription",value:this.state.sendData.subscription,"data-attribute-name":""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Amount ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"amount",value:this.state.sendData.amount,"data-attribute-name":""})]})]})}),Object(N.jsx)(g.a.Footer,{children:Object(N.jsx)(O.a,{variant:"primary",onClick:function(){return e.handleSubmitShow()},children:"Ok"})})]}),Object(N.jsxs)(g.a,{show:this.state.showPaymentModal,onHide:function(){return e.handleClosePayment()},size:"lg",children:[Object(N.jsx)(g.a.Header,{closeButton:!0,children:Object(N.jsxs)(g.a.Title,{children:[this.state.fields.userName," Payment Submit"]})}),Object(N.jsx)(g.a.Body,{children:Object(N.jsxs)(f.a,{className:"myForm",children:[Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" User Name ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"userName",value:this.state.fields.userName,disabled:!0,"data-attribute-name":""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Mobile Number ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"number",name:"mobileNumber",value:this.state.fields.mobileNumber,disabled:!0,"data-attribute-name":""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Payment Date ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"date",name:"dueDate",value:this.state.fields.dueDate,"data-attribute-name":""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:["Subscription ",Object(N.jsx)("i",{className:"text-danger",children:"*"})]}),this.state.optionRadio.map((function(t,a){return Object(N.jsx)(f.a.Check,{type:"radio",className:"p-1",name:"subscription",onChange:e.form.handleChangeEvent,value:t,id:t,label:t,custom:!0},a)}))]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Amount ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"number",name:"amount",onChange:this.form.handleChangeEvent,onBlur:this.form.handleBlurEvent,"data-attribute-name":""}),Object(N.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.amount?this.state.errors.amount:""})]})]})}),Object(N.jsx)(g.a.Footer,{children:Object(N.jsx)(O.a,{variant:"primary",onClick:function(){return e.handleSubmitPayment()},children:"Submit"})})]})]})})})}}]),a}(s.Component),S=a(49),E=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s,r;return Object(c.a)(this,a),(r=t.call(this,e)).state=(s={token:"",apiError:null},Object(S.a)(s,"token",localStorage.getItem("branchToken")),Object(S.a)(s,"fields",{userName:"",password:""}),Object(S.a)(s,"errors",{}),s),r.form=new C.a(Object(b.a)(r),{locale:"en"}),r.form.useRules({userName:"required",password:"required"}),r.form.onformsubmit=function(e){r.postData(e),console.log(e)},r}return Object(o.a)(a,[{key:"postData",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var a,s,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.login,s={userName:t.userName,password:t.password},console.log(s),e.next=5,x.a.post(a,s).then((function(e){if("error"==e.data.status)r.setState({apiError:e.data});else if("wrong credential"==e.data||"Manager"!=e.data.role)alert("enter correct name and password");else{var t=e.data;console.log(t),localStorage.setItem("branchToken","Bearer "+t.token),localStorage.setItem("branchCode",t.branchCode),window.location="/branch/home/"+t.branchCode}}),(function(e){e.response?r.setState({apiError:e.response}):r.setState({apiError:{status:"Network Error"}})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(N.jsx)("div",{className:"container-fluid bg",children:this.state.apiError?Object(N.jsx)(D,{details:this.state.apiError}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"row ",children:Object(N.jsxs)("div",{className:"card col-4  login-card  offset-4 my-5  Login-component ",style:{color:"#D7DBDD80"},children:[Object(N.jsx)("div",{className:"row ",style:{margin:1},children:Object(N.jsx)("div",{className:"col-12 font-weight-bold text-center mt-5",children:Object(N.jsx)("h1",{className:"letterFormate",children:"Branch Login "})})}),Object(N.jsx)("div",{className:"row  my-2",children:Object(N.jsx)("div",{className:"  col-8 offset-2 ",style:{border:"none"},children:Object(N.jsxs)(f.a,{className:"myForm",noValidate:!0,onSubmit:this.form.handleSubmit,children:[Object(N.jsxs)(f.a.Group,{className:"my-4",children:[Object(N.jsxs)(f.a.Label,{children:[" User Name ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"userName",style:{backgroundColor:"#D7DBDD"},onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.userName,"data-attribute-name":""}),Object(N.jsx)("div",{className:"text-warning",children:this.state.errors.userName?this.state.errors.userName:""})]}),Object(N.jsxs)(f.a.Group,{className:"mt-4",children:[Object(N.jsxs)(f.a.Label,{children:["Password ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"password",name:"password",style:{backgroundColor:"#D7DBDD"},onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.password,"data-attribute-name":""}),Object(N.jsx)("div",{className:" text-warning",children:this.state.errors.password?this.state.errors.password:""})]}),Object(N.jsx)("button",{type:"submit",className:"btn my-4 text-light text-bold bg-lg bg-warning",children:"Login"})]})})})]})})})})}}]),a}(r.a.Component),B=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(c.a)(this,a),s=t.call(this,e);var r=new Date,n=("0"+(r.getMonth()+1)).slice(-2),i=("0"+r.getDate()).slice(-2),o="".concat(r.getFullYear(),"-").concat(n,"-").concat(i);return s.state={apiError:null,optionRadio:["None","3 Months","6 Months","1 Year"],token:localStorage.getItem("branchToken"),fields:{joiningDate:o,branchCode:s.props.match.params.branch,userName:"",mobileNumber:"",amount:"",subscription:"None"},errors:{}},s.form=new C.a(Object(b.a)(s),{locale:"en"}),s.form.useRules({joiningDate:"required",branchCode:"required",userName:"required",branchAddress:"required",mobileNumber:"required|numeric|digits:10",amount:"required|numeric",subscription:"required"}),s.form.onformsubmit=function(e){s.postData(e),console.log(e)},s}return Object(o.a)(a,[{key:"postData",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var a,s,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.registerNewUser,s={joiningDate:t.joiningDate,branchCode:t.branchCode,userName:t.userName,mobileNumber:t.mobileNumber,subscription:t.subscription,amount:t.amount},console.log(s,a),e.next=5,x.a.post(a,s,{headers:{Authorization:this.state.token}}).then((function(e){"error"==e.data.status?r.setState({apiError:e.data}):r.props.history.push("/branch/home/"+r.props.match.params.branch)})).catch((function(e){e.response?r.setState({apiError:e.response}):r.setState({apiError:{status:"Network Error"}})}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleRadio",value:function(e){console.log(e,this)}},{key:"render",value:function(){var e=this;return Object(N.jsx)("div",{style:{backgroundColor:"#D7DBDD"},className:"container-fluid",children:this.state.apiError?Object(N.jsx)(D,{details:this.state.apiError}):Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-lg-8 col-md-8 col-sm-12 col-xs-12 offset-lg-2 offset-md-2",children:Object(N.jsxs)("div",{className:"bg-light p-4 my-3",style:{margin:1,borderRadius:"3%"},children:[Object(N.jsx)("div",{className:" font-weight-bold text-center",children:Object(N.jsx)("h2",{children:"Add New User Form"})}),Object(N.jsxs)(f.a,{className:"myForm",noValidate:!0,onSubmit:this.form.handleSubmit,children:[Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Date ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"date",name:"joiningDate",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.joiningDate,"data-attribute-name":""}),Object(N.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.joiningDate?this.state.errors.joiningDate:""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Branch Code ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"branchCode",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.branchCode,"data-attribute-name":""}),Object(N.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.branchCode?this.state.errors.branchCode:""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" User Name ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"userName",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.userName,"data-attribute-name":""}),Object(N.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.userName?this.state.errors.userName:""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Mobile Number ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"mobileNumber",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.mobileNumber,"data-attribute-name":""}),Object(N.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.mobileNumber?this.state.errors.mobileNumber:""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:["Subscription ",Object(N.jsx)("i",{className:"text-danger",children:"*"})]}),this.state.optionRadio.map((function(t,a){return Object(N.jsx)(f.a.Check,{type:"radio",className:"p-1",name:"subscription",onChange:e.form.handleChangeEvent,value:t,id:t,defaultChecked:"None"===t,label:t,custom:!0},a)})),Object(N.jsx)("div",{className:"alert-danger text-dange",children:this.state.errors.subscription?this.state.errors.subscription:""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Amount ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"amount",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.amount,"data-attribute-name":""}),Object(N.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.amount?this.state.errors.amount:""})]}),Object(N.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Submit"})]})]})})})})}}]),a}(r.a.Component),L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(c.a)(this,a);var r=(s=t.call(this,e)).props.location.state;return s.state={apiError:null,optionRadio:["3 Months","6 Months","1 Year"],option:["Active","Inactive"],token:localStorage.getItem("branchToken"),fields:{sNo:r.sNo,userName:r.userName,mobileNumber:r.mobileNumber,joiningDate:r.joiningDate,paidDate:r.paidDate,dueDate:r.dueDate,status:r.status,branchCode:r.branchCode,subscription:r.subscription,amount:r.amount},errors:{}},console.log(s.state.sendData),s.form=new C.a(Object(b.a)(s),{locale:"en"}),s.form.useRules({userName:"required",mobileNumber:"required|numeric",branchCode:"required",amount:"required|numeric",paidDate:"required",status:"required",subscription:"required"}),s.form.onformsubmit=function(e){s.postData(e),console.log(e)},s}return Object(o.a)(a,[{key:"postData",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var a,s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.userEdit,e.next=3,x.a.put(a,t,{headers:{Authorization:this.state.token}}).then((function(e){"error"==e.data.status?s.setState({apiError:e.data}):s.props.history.push("/branch/home/"+t.branchCode)})).catch((function(e){e.response?s.setState({apiError:e.response}):s.setState({apiError:{status:"Network Error"}})}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(N.jsx)("div",{style:{backgroundColor:"#D7DBDD"},className:"container-fluid",children:this.state.apiError?Object(N.jsx)(D,{details:this.state.apiError}):Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-lg-8 col-md-8 col-sm-12 col-xs-12 offset-lg-2 offset-md-2",children:Object(N.jsxs)("div",{className:"bg-light p-4 my-3",style:{borderRadius:"3%"},children:[Object(N.jsx)("div",{className:" font-weight-bold text-center",children:Object(N.jsx)("h2",{className:"letterFormate",children:"Edit Details"})}),Object(N.jsxs)(f.a,{className:"myForm",noValidate:!0,onSubmit:this.form.handleSubmit,children:[Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Branch Code ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"branchCode",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.branchCode,"data-attribute-name":""}),Object(N.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.branchCode?this.state.errors.branchCode:""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" User Name ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"userName",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.userName,"data-attribute-name":""}),Object(N.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.userName?this.state.errors.userName:""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Mobile Number ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"mobileNumber",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.mobileNumber,"data-attribute-name":""}),Object(N.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.mobileNumber?this.state.errors.mobileNumber:""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Paid Date ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"date",name:"paidDate",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.paidDate,"data-attribute-name":""}),Object(N.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.paidDate?this.state.errors.paidDate:""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:["Select Status ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsxs)(f.a.Control,{as:"select",name:"status",value:this.state.fields.status,onChange:this.form.handleChangeEvent,onBlur:this.form.handleBlurEvent,"data-attribute-name":"",custom:!0,className:"form-control",children:[Object(N.jsx)("option",{value:"Choose",children:"Choose ..."}),this.state.option.map((function(e,t){return Object(N.jsx)("option",{value:e,children:e},t)}))]}),Object(N.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.status?this.state.errors.status:""})]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:["Subscription ",Object(N.jsx)("i",{className:"text-danger",children:"*"})]}),this.state.optionRadio.map((function(t,a){return Object(N.jsx)(f.a.Check,{type:"radio",className:"p-1",name:"subscription",onChange:e.form.handleChangeEvent,value:t,id:t,label:t,custom:!0},a)}))]}),Object(N.jsxs)(f.a.Group,{children:[Object(N.jsxs)(f.a.Label,{children:[" Amount ",Object(N.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(N.jsx)(f.a.Control,{type:"text",name:"amount",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.amount,"data-attribute-name":""}),Object(N.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.amount?this.state.errors.amount:""})]}),Object(N.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Submit"})]})]})})})})}}]),a}(s.Component),M=a(115),F=a(7),P=a(161),G=a(160),A=function(e){var t=e.login,a=localStorage.getItem("branchCode");return Object(N.jsxs)(M.a,{children:[Object(N.jsxs)(P.a,{className:"navbar navbar-light ",style:{backgroundColor:"#F39C12"},expand:"lg",variant:"light",children:[Object(N.jsx)(P.a.Brand,{href:"https://durvi-fitness.herokuapp.com",target:"_blank",rel:"noopener noreferrer",children:Object(N.jsx)("img",{src:"https://i.ibb.co/G5DGRn5/2.png",height:50,width:60,className:"mx-2"})}),Object(N.jsx)(P.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(N.jsx)(P.a.Collapse,{id:"basic-navbar-nav",children:t?Object(N.jsxs)(N.Fragment,{children:[" ",Object(N.jsxs)(G.a,{className:"me-auto ",children:[Object(N.jsx)(G.a.Link,{href:"/branch/home/"+a,children:"Home"}),Object(N.jsx)(G.a.Link,{href:"/branch/adduser/"+a,children:"Add New User"})]}),Object(N.jsx)(G.a,{className:"mr-auto  ",children:Object(N.jsx)(G.a.Link,{href:"/branch/login",onClick:function(){localStorage.removeItem("branchToken"),console.log(t),t=void 0},children:"Logout"})})]}):Object(N.jsx)(G.a,{className:"mr-auto  font-weight-bold",children:Object(N.jsx)(G.a.Link,{href:"/branch/login",children:"Login"})})})]}),Object(N.jsxs)(F.d,{children:[Object(N.jsx)(F.b,{path:"/branch/login",component:E}),Object(N.jsx)(F.b,{path:"/branch/adduser/:branch",component:B}),Object(N.jsx)(F.b,{path:"/branch/home/:branch",component:w}),Object(N.jsx)(F.b,{path:"/branch/editData",component:L}),Object(N.jsx)(F.a,{to:"/branch/login"})]})]})},T=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("branchToken");this.setState({login:e})}},{key:"render",value:function(){return console.log(this.state.login),Object(N.jsx)("div",{children:Object(N.jsx)(A,{login:this.state.login})})}}]),a}(s.Component),q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,162)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),r(e),n(e),i(e)}))};i.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(T,{})}),document.getElementById("root")),q()},18:function(e){e.exports=JSON.parse('{"loginPage":"https://durvi-fitness.herokuapp.com/branch/login","login":"https://durvi-fitness.herokuapp.com/api/common/login","registerNewUser":"https://durvi-fitness.herokuapp.com/api/branch/registerNewUser","branchDetails":"https://durvi-fitness.herokuapp.com/api/common/branchDetails","userDetails":"https://durvi-fitness.herokuapp.com/api/common/userDetails","userEdit":"https://durvi-fitness.herokuapp.com/api/common/editRegisteredUser","userPayment":"https://durvi-fitness.herokuapp.com/api/common/paymentUser","sendMessage":"https://durvi-fitness.herokuapp.com/api/common/customMessageSend"}')},37:function(e,t,a){}},[[156,1,2]]]);
//# sourceMappingURL=main.edad910d.chunk.js.map
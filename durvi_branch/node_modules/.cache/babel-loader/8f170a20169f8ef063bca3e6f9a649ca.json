{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{Modal,Button,Form}from'react-bootstrap';import config from\"../config.json\";import ErrorPage from'../error-views/errorPage';import ReactFormValidation from\"react-form-input-validation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditUserData=/*#__PURE__*/function(_Component){_inherits(EditUserData,_Component);var _super=_createSuper(EditUserData);function EditUserData(props){var _this;_classCallCheck(this,EditUserData);_this=_super.call(this,props);var details=_this.props.location.state;_this.state={apiError:null,optionRadio:[\"3 Months\",\"6 Months\",\"1 Year\"],option:[\"Active\",\"Inactive\"],token:localStorage.getItem(\"branchToken\"),fields:{sNo:details.sNo,userName:details.userName,mobileNumber:details.mobileNumber,joiningDate:details.joiningDate,paidDate:details.paidDate,dueDate:details.dueDate,status:details.status,branchCode:details.branchCode,subscription:details.subscription,amount:details.amount},errors:{}};console.log(_this.state.sendData);_this.form=new ReactFormValidation(_assertThisInitialized(_this),{locale:\"en\"});_this.form.useRules({userName:\"required\",mobileNumber:\"required|numeric\",branchCode:\"required\",amount:\"required|numeric\",paidDate:\"required\",status:\"required\",subscription:\"required\"});_this.form.onformsubmit=function(fields){_this.postData(fields);console.log(fields);};return _this;}_createClass(EditUserData,[{key:\"postData\",value:function(){var _postData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(fields){var _this2=this;var url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=config.userEdit;_context.next=3;return axios.put(url,fields,{headers:{'Authorization':this.state.token}}).then(function(response){if(response.data.status==\"error\")_this2.setState({apiError:response.data});else _this2.props.history.push(\"/branch/home/\"+fields.branchCode);}).catch(function(error){var obj={\"status\":\"Network Error\"};if(error.response)_this2.setState({apiError:error.response});else _this2.setState({apiError:obj});});case 3:case\"end\":return _context.stop();}}},_callee,this);}));function postData(_x){return _postData.apply(this,arguments);}return postData;}()},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"#D7DBDD\"},className:\"container-fluid\",children:this.state.apiError?/*#__PURE__*/_jsx(ErrorPage,{details:this.state.apiError}):/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8 col-md-8 col-sm-12 col-xs-12 offset-lg-2 offset-md-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light p-4 my-3\",style:{borderRadius:\"3%\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\" font-weight-bold text-center\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"letterFormate\",children:\"Edit Details\"})}),/*#__PURE__*/_jsxs(Form,{className:\"myForm\",noValidate:true,onSubmit:this.form.handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\" Branch Code \",/*#__PURE__*/_jsx(\"i\",{className:\"text-danger\",children:\"*\"}),\" \"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"branchCode\",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.branchCode// To override the attribute name\n,\"data-attribute-name\":\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-danger text-danger\",children:this.state.errors.branchCode?this.state.errors.branchCode:\"\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\" User Name \",/*#__PURE__*/_jsx(\"i\",{className:\"text-danger\",children:\"*\"}),\" \"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"userName\",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.userName// To override the attribute name\n,\"data-attribute-name\":\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-danger text-danger\",children:this.state.errors.userName?this.state.errors.userName:\"\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\" Mobile Number \",/*#__PURE__*/_jsx(\"i\",{className:\"text-danger\",children:\"*\"}),\" \"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"mobileNumber\",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.mobileNumber,\"data-attribute-name\":\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-danger text-danger\",children:this.state.errors.mobileNumber?this.state.errors.mobileNumber:\"\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\" Paid Date \",/*#__PURE__*/_jsx(\"i\",{className:\"text-danger\",children:\"*\"}),\" \"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",name:\"paidDate\",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.paidDate,\"data-attribute-name\":\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-danger text-danger\",children:this.state.errors.paidDate?this.state.errors.paidDate:\"\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Select Status \",/*#__PURE__*/_jsx(\"i\",{className:\"text-danger\",children:\"*\"}),\" \"]}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",name:\"status\",value:this.state.fields.status,onChange:this.form.handleChangeEvent,onBlur:this.form.handleBlurEvent,\"data-attribute-name\":\"\",custom:true,className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Choose\",children:\"Choose ...\"}),this.state.option.map(function(data,index){return/*#__PURE__*/_jsx(\"option\",{value:data,children:data},index);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-danger text-danger\",children:this.state.errors.status?this.state.errors.status:\"\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Subscription \",/*#__PURE__*/_jsx(\"i\",{className:\"text-danger\",children:\"*\"})]}),this.state.optionRadio.map(function(data,index){return/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",className:\"p-1\",name:\"subscription\",onChange:_this3.form.handleChangeEvent,value:data,id:data,label:data,custom:true},index);})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\" Amount \",/*#__PURE__*/_jsx(\"i\",{className:\"text-danger\",children:\"*\"}),\" \"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"amount\",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.amount,\"data-attribute-name\":\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-danger text-danger\",children:this.state.errors.amount?this.state.errors.amount:\"\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mt-3\",children:\"Submit\"})]})]})})})});}}]);return EditUserData;}(Component);export default EditUserData;","map":{"version":3,"sources":["C:/Users/HP/Desktop/Project/durvi_branch/src/components/Editdata.js"],"names":["React","Component","axios","Modal","Button","Form","config","ErrorPage","ReactFormValidation","EditUserData","props","details","location","state","apiError","optionRadio","option","token","localStorage","getItem","fields","sNo","userName","mobileNumber","joiningDate","paidDate","dueDate","status","branchCode","subscription","amount","errors","console","log","sendData","form","locale","useRules","onformsubmit","postData","url","userEdit","put","headers","then","response","data","setState","history","push","catch","error","obj","backgroundColor","borderRadius","handleSubmit","handleBlurEvent","handleChangeEvent","map","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Modal, Button, Form } from 'react-bootstrap'\r\nimport config from \"../config.json\";\r\nimport ErrorPage from '../error-views/errorPage';\r\nimport ReactFormValidation from \"react-form-input-validation\";\r\nclass EditUserData extends Component {\r\n  constructor(props) {\r\n    \r\n    super(props);\r\n\r\n   let  details=this.props.location.state;\r\n     this.state = {\r\n      apiError:null,\r\n      optionRadio:[\"3 Months\",\"6 Months\", \"1 Year\"],\r\n     option:[\"Active\",\"Inactive\"],\r\n     token: localStorage.getItem(\"branchToken\"),\r\n    fields: {\r\n      sNo:details.sNo,\r\n      userName:details.userName,\r\n      mobileNumber:details.mobileNumber,\r\n      joiningDate:details.joiningDate,\r\n      paidDate:details.paidDate,\r\n      dueDate:details.dueDate,\r\n      status: details.status,\r\n      branchCode: details.branchCode,\r\n      subscription: details.subscription,\r\n      amount:details.amount\r\n    },\r\n    errors: {}\r\n  };\r\n  \r\nconsole.log(this.state.sendData);\r\n  this.form = new ReactFormValidation(this, { locale: \"en\" });\r\n  this.form.useRules({\r\n    userName: \"required\",\r\n    mobileNumber: \"required|numeric\",\r\n    branchCode: \"required\",\r\n    amount: \"required|numeric\",\r\n    paidDate:\"required\",\r\n    status:\"required\",\r\n    subscription:\"required\"\r\n  });\r\n  \r\n  this.form.onformsubmit = (fields) => {\r\n    this.postData(fields);\r\n    console.log(fields);\r\n  }\r\n}\r\n\r\n \r\n  async postData(fields) {\r\n    const url= config.userEdit;\r\n    await axios.put(url, fields,{headers:{'Authorization':this.state.token}}).then(\r\n        (response) => {\r\n          if(response.data.status==\"error\") this.setState({apiError:response.data});\r\n          else  this.props.history.push(\"/branch/home/\"+fields.branchCode);\r\n        }\r\n      )\r\n      .catch(error => {\r\n        let obj={\"status\":\"Network Error\"};\r\n        if(error.response) this.setState({apiError:error.response});\r\n       else this.setState({apiError:obj});\r\n      });\r\n    \r\n  }\r\n \r\n  render() {\r\n    return (\r\n      <div style={{ backgroundColor: \"#D7DBDD\" }} className=\"container-fluid\">\r\n           {this.state.apiError?<ErrorPage details={this.state.apiError}/>:\r\n          <div className=\"row\">\r\n          <div className=\"col-lg-8 col-md-8 col-sm-12 col-xs-12 offset-lg-2 offset-md-2\">\r\n              \r\n              <div className=\"bg-light p-4 my-3\" style={{borderRadius:\"3%\"}}>\r\n              <div  className=\" font-weight-bold text-center\">\r\n              <h2 className=\"letterFormate\">Edit Details</h2></div>\r\n            <Form className=\"myForm\" noValidate onSubmit={this.form.handleSubmit} >\r\n              <Form.Group>\r\n                <Form.Label> Branch Code <i className=\"text-danger\">*</i> </Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"branchCode\"\r\n                 \r\n                  onBlur={this.form.handleBlurEvent}\r\n                  onChange={this.form.handleChangeEvent}\r\n                  value={this.state.fields.branchCode}\r\n                  // To override the attribute name\r\n                  data-attribute-name=\"\" />\r\n                <div className=\"alert-danger text-danger\">\r\n                  {this.state.errors.branchCode\r\n                    ? this.state.errors.branchCode\r\n                    : \"\"}\r\n                </div>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label> User Name <i className=\"text-danger\">*</i> </Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"userName\"\r\n                  onBlur={this.form.handleBlurEvent}\r\n                  onChange={this.form.handleChangeEvent}\r\n                  value={this.state.fields.userName}\r\n                  // To override the attribute name\r\n                  data-attribute-name=\"\" />\r\n                <div className=\"alert-danger text-danger\">\r\n                  {this.state.errors.userName\r\n                    ? this.state.errors.userName\r\n                    : \"\"}\r\n                </div>\r\n              </Form.Group>\r\n\r\n              <Form.Group>\r\n                <Form.Label> Mobile Number <i className=\"text-danger\">*</i> </Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"mobileNumber\"\r\n                  onBlur={this.form.handleBlurEvent}\r\n                  onChange={this.form.handleChangeEvent}\r\n                  value={this.state.fields.mobileNumber}\r\n                 \r\n                  data-attribute-name=\"\" />\r\n                <div className=\"alert-danger text-danger\">\r\n                  {this.state.errors.mobileNumber\r\n                    ? this.state.errors.mobileNumber\r\n                    : \"\"}\r\n                </div>\r\n              </Form.Group>\r\n              \r\n\r\n              <Form.Group>\r\n                <Form.Label> Paid Date <i className=\"text-danger\">*</i> </Form.Label>\r\n                <Form.Control\r\n               type=\"date\"\r\n                  name=\"paidDate\"\r\n                  onBlur={this.form.handleBlurEvent}\r\n                  onChange={this.form.handleChangeEvent}\r\n                  value={this.state.fields.paidDate}\r\n                 \r\n                  data-attribute-name=\"\" />\r\n                <div className=\"alert-danger text-danger\">\r\n                  {this.state.errors.paidDate\r\n                    ? this.state.errors.paidDate\r\n                    : \"\"}\r\n                </div>\r\n              </Form.Group>\r\n\r\n              <Form.Group>\r\n                <Form.Label>Select Status <i className=\"text-danger\">*</i> </Form.Label>\r\n                <Form.Control as=\"select\" name=\"status\" \r\n                          value={this.state.fields.status}\r\n                           onChange={this.form.handleChangeEvent}\r\n                           onBlur={this.form.handleBlurEvent}\r\n                           data-attribute-name=\"\" custom  className=\"form-control\">\r\n                           <option value=\"Choose\">Choose ...</option>\r\n                           { this.state.option.map((data,index)=>(<option value={data} key={index}>{data}</option>))} \r\n                       </Form.Control>\r\n                       <div className=\"alert-danger text-danger\">\r\n                          {this.state.errors.status\r\n                        ? this.state.errors.status\r\n                         : \"\"}\r\n                       </div>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                    <Form.Label >Subscription <i className=\"text-danger\">*</i></Form.Label>\r\n                       { this.state.optionRadio.map((data,index)=>( <Form.Check  type=\"radio\" key={index} className=\"p-1\"\r\n                          name=\"subscription\"\r\n                          onChange={this.form.handleChangeEvent} value={data}  id={data}\r\n                          label={data} custom />))} \r\n                  </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label> Amount <i className=\"text-danger\">*</i> </Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"amount\"\r\n                  onBlur={this.form.handleBlurEvent}\r\n                  onChange={this.form.handleChangeEvent}\r\n                  value={this.state.fields.amount}\r\n                 \r\n                  data-attribute-name=\"\" />\r\n                <div className=\"alert-danger text-danger\">\r\n                  {this.state.errors.amount\r\n                    ? this.state.errors.amount\r\n                    : \"\"}\r\n                </div>\r\n              </Form.Group>\r\n              \r\n              <button type=\"submit\" className=\"btn btn-primary mt-3\">Submit</button>\r\n            </Form>\r\n            </div>\r\n            </div>   \r\n         \r\n      </div>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default EditUserData;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Project\\\\durvi_branch\\\\src\\\\components\\\\Loginpage.js\";\nimport React from \"react\";\nimport ReactFormValidation from \"react-form-input-validation\";\nimport Form from 'react-bootstrap/Form';\nimport axios from 'axios';\nimport config from \"../config.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Loginpage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: \"\",\n      fields: {\n        userName: \"\",\n        password: \"\"\n      },\n      errors: {}\n    };\n    this.form = new ReactFormValidation(this, {\n      locale: \"en\"\n    });\n    this.form.useRules({\n      userName: \"required\",\n      password: \"required\"\n    });\n\n    this.form.onformsubmit = fields => {\n      this.postData(fields);\n      console.log(fields);\n    };\n  }\n\n  async postData(fields) {\n    const url = config.login;\n    let obj = {\n      userName: fields.userName,\n      password: fields.password\n    };\n    console.log(obj);\n    await axios.post(url, obj).then(response => {\n      console.log(response);\n      if (response.data == \"wrong credential\") alert(\"enter correct name and password\"); // else  if(response.data.role!=\"Manager\") alert(\"enter correct name and password\");\n      else {\n          localStorage.setItem(\"branch\", \"login\");\n          localStorage.setItem(\"branchCode\", obj.userName);\n          window.location = \"/branch/home/\" + obj.userName; // this.props.history.push(\"/branch/home\");\n        }\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundImage: `url(\"https://img.freepik.com/free-photo/young-fitness-man-studio_7502-5008.jpg?size=626&ext=jpg\")`,\n        width: \"100%\",\n        height: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this) // </div>\n    ;\n  }\n\n}\n\nexport default Loginpage;","map":{"version":3,"sources":["C:/Users/HP/Desktop/Project/durvi_branch/src/components/Loginpage.js"],"names":["React","ReactFormValidation","Form","axios","config","Loginpage","Component","constructor","props","state","token","fields","userName","password","errors","form","locale","useRules","onformsubmit","postData","console","log","url","login","obj","post","then","response","data","alert","localStorage","setItem","window","location","error","render","backgroundImage","width","height"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,mBAAP,MAAgC,6BAAhC;AACA,OAAOC,IAAP,MAAkB,sBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;;;AAEA,MAAMC,SAAN,SAAwBL,KAAK,CAACM,SAA9B,CAAwC;AAEtCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAC,EADG;AAEXC,MAAAA,MAAM,EAAE;AACNC,QAAAA,QAAQ,EAAE,EADJ;AAENC,QAAAA,QAAQ,EAAC;AAFH,OAFG;AAOXC,MAAAA,MAAM,EAAE;AAPG,KAAb;AASA,SAAKC,IAAL,GAAY,IAAId,mBAAJ,CAAwB,IAAxB,EAA8B;AAAEe,MAAAA,MAAM,EAAE;AAAV,KAA9B,CAAZ;AACA,SAAKD,IAAL,CAAUE,QAAV,CAAmB;AACjBL,MAAAA,QAAQ,EAAC,UADQ;AAEjBC,MAAAA,QAAQ,EAAC;AAFQ,KAAnB;;AAMA,SAAKE,IAAL,CAAUG,YAAV,GAA0BP,MAAD,IAAY;AACpC,WAAKQ,QAAL,CAAcR,MAAd;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAYV,MAAZ;AACA,KAHD;AAID;;AACa,QAARQ,QAAQ,CAACR,MAAD,EAAQ;AACpB,UAAMW,GAAG,GAAElB,MAAM,CAACmB,KAAlB;AACC,QAAIC,GAAG,GAAG;AACTZ,MAAAA,QAAQ,EAAED,MAAM,CAACC,QADR;AAETC,MAAAA,QAAQ,EAAGF,MAAM,CAACE;AAFT,KAAV;AAILO,IAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACI,UAAMrB,KAAK,CAACsB,IAAN,CAAWH,GAAX,EAAgBE,GAAhB,EAAqBE,IAArB,CACHC,QAAD,IAAc;AACZP,MAAAA,OAAO,CAACC,GAAR,CAAYM,QAAZ;AACA,UAAGA,QAAQ,CAACC,IAAT,IAAe,kBAAlB,EAAsCC,KAAK,CAAC,iCAAD,CAAL,CAAtC,CACA;AADA,WAEI;AACHC,UAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA8B,OAA9B;AACAD,UAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAkCP,GAAG,CAACZ,QAAtC;AACAoB,UAAAA,MAAM,CAACC,QAAP,GAAgB,kBAAgBT,GAAG,CAACZ,QAApC,CAHG,CAIJ;AACA;AACD,KAXG,EAYHsB,KAAD,IAAW;AACTd,MAAAA,OAAO,CAACC,GAAR,CAAYa,KAAZ;AACD,KAdG,CAAN;AAgBD;;AACCC,EAAAA,MAAM,GAAG;AACL,wBAEI;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,eAAe,EAAE,mGAAlB;AAAqHC,QAAAA,KAAK,EAAC,MAA3H;AAAkIC,QAAAA,MAAM,EAAC;AAAzI;AAAZ;AAAA;AAAA;AAAA;AAAA,YAFJ,CAOE;AAPF;AAUH;;AA5DmC;;AA+DxC,eAAejC,SAAf","sourcesContent":["import React from \"react\";\r\nimport ReactFormValidation from \"react-form-input-validation\";\r\nimport Form  from 'react-bootstrap/Form';\r\nimport axios from 'axios';\r\nimport config from \"../config.json\";\r\n\r\nclass Loginpage extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        token:\"\",\r\n      fields: {\r\n        userName: \"\",\r\n        password:\"\",\r\n      \r\n      },\r\n      errors: {}\r\n    };\r\n    this.form = new ReactFormValidation(this, { locale: \"en\" });\r\n    this.form.useRules({\r\n      userName:\"required\",\r\n      password:\"required\",\r\n     \r\n     });\r\n\r\n    this.form.onformsubmit = (fields) => {\r\n     this.postData(fields);\r\n     console.log(fields);\r\n    }\r\n  }\r\n  async postData(fields){\r\n    const url= config.login;\r\n     let obj = {\r\n      userName: fields.userName,\r\n      password : fields.password\r\n         };\r\nconsole.log(obj);\r\n    await axios.post(url, obj).then(\r\n      (response) => {\r\n        console.log(response);\r\n        if(response.data==\"wrong credential\") alert(\"enter correct name and password\");\r\n        // else  if(response.data.role!=\"Manager\") alert(\"enter correct name and password\");\r\n       else {\r\n         localStorage.setItem(\"branch\",\"login\" );\r\n         localStorage.setItem(\"branchCode\",obj.userName);\r\n         window.location=\"/branch/home/\"+obj.userName;\r\n        // this.props.history.push(\"/branch/home\");\r\n       }\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n    render() { \r\n        return (\r\n        \r\n            <div style={{backgroundImage:`url(\"https://img.freepik.com/free-photo/young-fitness-man-studio_7502-5008.jpg?size=626&ext=jpg\")`,width:\"100%\",height:\"100%\"}} >\r\n              \r\n             \r\n              </div>\r\n          \r\n          // </div>\r\n          \r\n         );\r\n    }\r\n}\r\n\r\nexport default Loginpage;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import ReactFormValidation from\"react-form-input-validation\";import{Form}from'react-bootstrap';import axios from'axios';import config from\"../config.json\";import ErrorPage from'../error-views/errorPage';//import http from \"../services/auth\"\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Adduser=/*#__PURE__*/function(_React$Component){_inherits(Adduser,_React$Component);var _super=_createSuper(Adduser);function Adduser(props){var _this;_classCallCheck(this,Adduser);_this=_super.call(this,props);var todate=new Date();var month=(\"0\"+(todate.getMonth()+1)).slice(-2);var date=(\"0\"+todate.getDate()).slice(-2);var formatedDate=\"\".concat(todate.getFullYear(),\"-\").concat(month,\"-\").concat(date);//`${date}-${month}-${todate.getFullYear()}`;\n_this.state={apiError:null,optionRadio:[\"None\",\"3 Months\",\"6 Months\",\"1 Year\"],token:localStorage.getItem(\"token\"),fields:{joiningDate:formatedDate,branchCode:_this.props.match.params.branch,userName:\"\",mobileNumber:\"\",amount:\"\",subscription:\"None\"},errors:{}};_this.form=new ReactFormValidation(_assertThisInitialized(_this),{locale:\"en\"});_this.form.useRules({joiningDate:\"required\",branchCode:\"required\",userName:\"required\",branchAddress:\"required\",mobileNumber:\"required|numeric|digits:10\",amount:\"required|numeric\",subscription:\"required\"});_this.form.onformsubmit=function(fields){_this.postData(fields);console.log(fields);};return _this;}_createClass(Adduser,[{key:\"postData\",value:function(){var _postData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(fields){var _this2=this;var url,obj;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=config.registerNewUser;obj={joiningDate:fields.joiningDate,branchCode:fields.branchCode,userName:fields.userName,mobileNumber:fields.mobileNumber,subscription:fields.subscription,amount:fields.amount};console.log(obj);_context.next=5;return axios.post(url,obj,{headers:{'Authorization':this.state.token}}).then(function(response){if(response.data.status==\"error\")_this2.setState({apiError:response.data});else _this2.props.history.push(\"/branch/home/\"+_this2.props.match.params.branch);}).catch(function(error){var obj={\"status\":\"Network Error\"};if(error.response)_this2.setState({apiError:error.response});else _this2.setState({apiError:obj});});case 5:case\"end\":return _context.stop();}}},_callee,this);}));function postData(_x){return _postData.apply(this,arguments);}return postData;}()},{key:\"handleRadio\",value:function handleRadio(e){console.log(e,this);}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"#D7DBDD\"},className:\"container-fluid\",children:this.state.apiError?/*#__PURE__*/_jsx(ErrorPage,{details:this.state.apiError}):/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8 col-md-8 col-sm-12 col-xs-12 offset-lg-2 offset-md-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light p-4 my-3\",style:{margin:1,borderRadius:\"3%\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\" font-weight-bold text-center\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Add New User Form\"})}),/*#__PURE__*/_jsxs(Form,{className:\"myForm\",noValidate:true,onSubmit:this.form.handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\" Date \",/*#__PURE__*/_jsx(\"i\",{className:\"text-danger\",children:\"*\"}),\" \"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",name:\"joiningDate\",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.joiningDate// To override the attribute name\n,\"data-attribute-name\":\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-danger text-danger\",children:this.state.errors.joiningDate?this.state.errors.joiningDate:\"\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\" Branch Code \",/*#__PURE__*/_jsx(\"i\",{className:\"text-danger\",children:\"*\"}),\" \"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"branchCode\",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.branchCode// To override the attribute name\n,\"data-attribute-name\":\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-danger text-danger\",children:this.state.errors.branchCode?this.state.errors.branchCode:\"\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\" User Name \",/*#__PURE__*/_jsx(\"i\",{className:\"text-danger\",children:\"*\"}),\" \"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"userName\",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.userName// To override the attribute name\n,\"data-attribute-name\":\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-danger text-danger\",children:this.state.errors.userName?this.state.errors.userName:\"\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\" Mobile Number \",/*#__PURE__*/_jsx(\"i\",{className:\"text-danger\",children:\"*\"}),\" \"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"mobileNumber\",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.mobileNumber// To override the attribute name\n,\"data-attribute-name\":\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-danger text-danger\",children:this.state.errors.mobileNumber?this.state.errors.mobileNumber:\"\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Subscription \",/*#__PURE__*/_jsx(\"i\",{className:\"text-danger\",children:\"*\"})]}),this.state.optionRadio.map(function(data,index){return/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",className:\"p-1\",name:\"subscription\",onChange:_this3.form.handleChangeEvent,value:data,id:data,defaultChecked:data===\"None\",label:data,custom:true},index);}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-danger text-dange\",children:this.state.errors.subscription?this.state.errors.subscription:\"\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\" Amount \",/*#__PURE__*/_jsx(\"i\",{className:\"text-danger\",children:\"*\"}),\" \"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"amount\",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.amount// To override the attribute name\n,\"data-attribute-name\":\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-danger text-danger\",children:this.state.errors.amount?this.state.errors.amount:\"\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mt-3\",children:\"Submit\"})]})]})})})});}}]);return Adduser;}(React.Component);export default Adduser;","map":{"version":3,"sources":["C:/Users/HP/Desktop/Project/durvi_branch/src/components/Adduser.js"],"names":["React","ReactFormValidation","Form","axios","config","ErrorPage","Adduser","props","todate","Date","month","getMonth","slice","date","getDate","formatedDate","getFullYear","state","apiError","optionRadio","token","localStorage","getItem","fields","joiningDate","branchCode","match","params","branch","userName","mobileNumber","amount","subscription","errors","form","locale","useRules","branchAddress","onformsubmit","postData","console","log","url","registerNewUser","obj","post","headers","then","response","data","status","setState","history","push","catch","error","e","backgroundColor","margin","borderRadius","handleSubmit","handleBlurEvent","handleChangeEvent","map","index","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport ReactFormValidation from \"react-form-input-validation\";\r\nimport { Form } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport config from \"../config.json\";\r\nimport ErrorPage from '../error-views/errorPage';\r\n//import http from \"../services/auth\"\r\nclass Adduser extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    var todate = new Date();\r\n    var month = (\"0\"+ (todate.getMonth()+1)).slice(-2);\r\n   var  date = (\"0\"+ todate.getDate()).slice(-2);\r\n    var formatedDate = `${todate.getFullYear()}-${month}-${date}`;//`${date}-${month}-${todate.getFullYear()}`;\r\n\r\n\r\n   \r\n    this.state = {\r\n      apiError:null,\r\n      optionRadio:[\"None\",\"3 Months\",\"6 Months\", \"1 Year\"],\r\n      token: localStorage.getItem(\"token\"),\r\n      fields: {\r\n        joiningDate: formatedDate,\r\n       branchCode:this.props.match.params.branch,\r\n       userName:\"\",\r\n       mobileNumber:\"\",\r\n       amount:\"\",\r\n      subscription:\"None\"\r\n      },\r\n      errors: {}\r\n    };\r\n    this.form = new ReactFormValidation(this, { locale: \"en\" });\r\n    this.form.useRules({\r\n     joiningDate:\"required\",\r\n      branchCode:\"required\",\r\n     userName:\"required\",\r\n     branchAddress:\"required\",\r\n     mobileNumber: \"required|numeric|digits:10\",\r\n     amount:\"required|numeric\",\r\n     subscription:\"required\"\r\n     });\r\n\r\n    this.form.onformsubmit = (fields) => {\r\n    this.postData(fields);\r\n     console.log(fields);\r\n    }\r\n  }\r\n  async postData(fields){\r\n    const url= config.registerNewUser;\r\n     let obj = {\r\n        joiningDate:fields.joiningDate,\r\n        branchCode:fields.branchCode,\r\n       userName:fields.userName,\r\n       mobileNumber: fields.mobileNumber,\r\n       subscription:fields.subscription,\r\n       amount:fields.amount\r\n         };\r\nconsole.log(obj);\r\n    await axios.post(url, obj,{headers:{'Authorization':this.state.token}}).then(\r\n      (response) => {\r\n        if(response.data.status==\"error\") this.setState({apiError:response.data});\r\n        else this.props.history.push(\"/branch/home/\"+this.props.match.params.branch);\r\n      }).catch(error => {\r\n        let obj={\"status\":\"Network Error\"};\r\n        if(error.response) this.setState({apiError:error.response});\r\n       else this.setState({apiError:obj});\r\n      });\r\n  }\r\n  handleRadio(e){\r\n    console.log(e, this);\r\n  }\r\n    render() { \r\n        return (\r\n          <div style={{backgroundColor:\"#D7DBDD\"}} className=\"container-fluid\">\r\n              {this.state.apiError?<ErrorPage details={this.state.apiError}/>:\r\n            <div className=\"row\"  >\r\n              <div className=\"col-lg-8 col-md-8 col-sm-12 col-xs-12 offset-lg-2 offset-md-2\">\r\n              \r\n                  <div className=\"bg-light p-4 my-3\" style={{margin:1,borderRadius:\"3%\"}}>\r\n                  <div  className=\" font-weight-bold text-center\">\r\n                  <h2 >Add New User Form</h2></div>\r\n                  <Form className=\"myForm\" noValidate onSubmit={this.form.handleSubmit} >\r\n                  <Form.Group>\r\n                  <Form.Label> Date <i className=\"text-danger\">*</i> </Form.Label>\r\n                 <Form.Control\r\n                  type=\"date\"\r\n                  name=\"joiningDate\"\r\n                  onBlur={this.form.handleBlurEvent}\r\n                  onChange={this.form.handleChangeEvent}\r\n                  value={this.state.fields.joiningDate}\r\n                  // To override the attribute name\r\n                  data-attribute-name=\"\" />\r\n                  <div className=\"alert-danger text-danger\">\r\n                  {this.state.errors.joiningDate\r\n                  ? this.state.errors.joiningDate\r\n                  : \"\"}\r\n                  </div>\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                  <Form.Label> Branch Code <i className=\"text-danger\">*</i> </Form.Label>\r\n                 <Form.Control\r\n                  type=\"text\"\r\n                  name=\"branchCode\"\r\n                 \r\n                  onBlur={this.form.handleBlurEvent}\r\n                  onChange={this.form.handleChangeEvent}\r\n                  value={this.state.fields.branchCode}\r\n                  // To override the attribute name\r\n                  data-attribute-name=\"\" />\r\n                  <div className=\"alert-danger text-danger\">\r\n                  {this.state.errors.branchCode\r\n                  ? this.state.errors.branchCode\r\n                  : \"\"}\r\n                  </div>\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                  <Form.Label> User Name <i className=\"text-danger\">*</i> </Form.Label>\r\n                 <Form.Control\r\n                  type=\"text\"\r\n                  name=\"userName\"\r\n                  onBlur={this.form.handleBlurEvent}\r\n                  onChange={this.form.handleChangeEvent}\r\n                  value={this.state.fields.userName}\r\n                  // To override the attribute name\r\n                  data-attribute-name=\"\" />\r\n                  <div className=\"alert-danger text-danger\">\r\n                  {this.state.errors.userName\r\n                  ? this.state.errors.userName\r\n                  : \"\"}\r\n                  </div>\r\n                  </Form.Group>\r\n                \r\n                  <Form.Group>\r\n                  <Form.Label> Mobile Number <i className=\"text-danger\">*</i> </Form.Label>\r\n                 <Form.Control\r\n                  type=\"text\"\r\n                  name=\"mobileNumber\"\r\n                  onBlur={this.form.handleBlurEvent}\r\n                  onChange={this.form.handleChangeEvent}\r\n                  value={this.state.fields.mobileNumber}\r\n                  // To override the attribute name\r\n                  data-attribute-name=\"\" />\r\n                  <div className=\"alert-danger text-danger\">\r\n                  {this.state.errors.mobileNumber\r\n                  ? this.state.errors.mobileNumber\r\n                  : \"\"}\r\n                  </div>\r\n                  </Form.Group>\r\n                 \r\n                  <Form.Group>\r\n                    <Form.Label >Subscription <i className=\"text-danger\">*</i></Form.Label>\r\n                       { this.state.optionRadio.map((data,index)=>( <Form.Check  type=\"radio\" key={index} className=\"p-1\"\r\n                          name=\"subscription\"\r\n                          onChange={this.form.handleChangeEvent} value={data}  id={data}\r\n                           defaultChecked={data===\"None\"}\r\n                          label={data} custom />))} \r\n                            <div className=\"alert-danger text-dange\">\r\n                          {this.state.errors.subscription\r\n                        ? this.state.errors.subscription\r\n                         : \"\"}\r\n                       </div>\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                  <Form.Label> Amount <i className=\"text-danger\">*</i> </Form.Label>\r\n                 <Form.Control\r\n                  type=\"text\"\r\n                  name=\"amount\"\r\n                  onBlur={this.form.handleBlurEvent}\r\n                  onChange={this.form.handleChangeEvent}\r\n                  value={this.state.fields.amount}\r\n                  // To override the attribute name\r\n                  data-attribute-name=\"\" />\r\n                  <div className=\"alert-danger text-danger\">\r\n                  {this.state.errors.amount\r\n                  ? this.state.errors.amount\r\n                  : \"\"}\r\n                  </div>\r\n                  </Form.Group>\r\n                  <button type=\"submit\" className=\"btn btn-primary mt-3\">Submit</button>\r\n                  </Form>\r\n              </div>\r\n              </div>\r\n            </div>}\r\n          </div>\r\n          \r\n         );\r\n    }\r\n}\r\n\r\nexport default Adduser;"]},"metadata":{},"sourceType":"module"}
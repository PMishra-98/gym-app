{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/HP/Desktop/Project/durvi_branch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{Modal,Button,Form,FormControl}from'react-bootstrap';import config from\"../config.json\";import Loading from'../Loading/loadingRound';import ReactFormValidation from\"react-form-input-validation\";import ErrorPage from'../error-views/errorPage';import'../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Masgpage=/*#__PURE__*/function(_Component){_inherits(Masgpage,_Component);var _super=_createSuper(Masgpage);function Masgpage(props){var _this;_classCallCheck(this,Masgpage);_this=_super.call(this,props);_this.state={apiError:null,masg:\"Today is holiday.\",branchCode:_this.props.branchCode,token:localStorage.getItem(\"branchToken\")};return _this;}_createClass(Masgpage,[{key:\"handleChange\",value:function handleChange(event){this.setState({masg:event.target.value});}},{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _this2=this;var url,obj;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(this.state.value);url=config.sendMessage;obj={message:this.state.value,branchCode:this.state.branchCode};_context.next=5;return axios.post(url,obj,{headers:{'Authorization':this.state.token}}).then(function(response){console.log(response.data);if(response.data.status==\"error\")_this2.setState({apiError:response.data});else alert(\"message sent successfully\");}).catch(function(error){var obj={\"status\":\"Network Error\"};if(error.response)_this2.setState({apiError:error.response});else _this2.setState({apiError:obj});});case 5:e.preventDefault();case 6:case\"end\":return _context.stop();}}},_callee,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(React.Fragment,{children:this.state.apiError?/*#__PURE__*/_jsx(ErrorPage,{details:this.state.apiError}):/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"whitesmoke\"},className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{style:{padding:5,marginBottom:5},children:/*#__PURE__*/_jsx(\"div\",{className:\"row m-5\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit.bind(this),className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"  Write message:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.masg,onChange:this.handleChange.bind(this),style:{width:\"80%\"}}),/*#__PURE__*/_jsx(\"button\",{type:\"Send to all\",className:\"btn btn-primary btn-sm\",children:\"Submit\"})]})})})})});}}]);return Masgpage;}(Component);export default Masgpage;","map":{"version":3,"sources":["C:/Users/HP/Desktop/Project/durvi_branch/src/components/masg.js"],"names":["React","Component","axios","Modal","Button","Form","FormControl","config","Loading","ReactFormValidation","ErrorPage","Masgpage","props","state","apiError","masg","branchCode","token","localStorage","getItem","event","setState","target","value","e","console","log","url","sendMessage","obj","message","post","headers","then","response","data","status","alert","catch","error","preventDefault","backgroundColor","padding","marginBottom","handleSubmit","bind","handleChange","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Modal, Button, Form, FormControl } from 'react-bootstrap'\r\nimport config from \"../config.json\";\r\nimport Loading from '../Loading/loadingRound'\r\nimport ReactFormValidation from \"react-form-input-validation\";\r\nimport ErrorPage from '../error-views/errorPage';\r\nimport '../App.css';\r\nclass Masgpage extends Component {\r\n  constructor(props) {\r\n    \r\n    super(props);\r\n  \r\n     this.state = {\r\n        apiError:null,\r\n      masg:\"Today is holiday.\",\r\n      branchCode:this.props.branchCode,\r\n      token: localStorage.getItem(\"branchToken\"),\r\n      \r\n    };\r\n    \r\n  }\r\n\r\n  \r\n \r\n   handleChange(event) {\r\n \r\n    this.setState({masg: event.target.value});\r\n  }\r\n\r\n  async handleSubmit(e) {\r\n    \r\n  console.log(this.state.value)\r\n  let url=config.sendMessage;\r\n  let obj={\r\n    message:this.state.value,\r\n    branchCode:this.state.branchCode\r\n  }\r\n  await axios.post(url,obj,{headers:{'Authorization':this.state.token}}).then(\r\n    (response) => {\r\n      console.log(response.data);\r\n      if(response.data.status==\"error\") this.setState({apiError:response.data});\r\n          else  alert(\"message sent successfully\");\r\n    }\r\n  )\r\n  .catch(error => {\r\n   \r\n    let obj={\"status\":\"Network Error\"};\r\n    if(error.response) this.setState({apiError:error.response});\r\n   else this.setState({apiError:obj});\r\n  });\r\n  e.preventDefault();\r\n  }\r\n  render() {\r\n  \r\n    return (\r\n      <React.Fragment>\r\n        {this.state.apiError?<ErrorPage details={this.state.apiError}/>:\r\n   <div style={{ backgroundColor: \"whitesmoke\" }} className=\"container-fluid\">\r\n           <div style={{ padding: 5, marginBottom: 5 }}>\r\n           <div className=\"row m-5\">\r\n           <form onSubmit={this.handleSubmit.bind(this)} className=\"form-control\" >\r\n       <label>  Write message:</label>\r\n          <input type=\"text\" value={this.state.masg} onChange={this.handleChange.bind(this)} style={{width: \"80%\"}}/>\r\n      \r\n          <button type=\"Send to all\" className=\"btn btn-primary btn-sm\">Submit</button>\r\n      </form>\r\n         </div>\r\n          </div>\r\n    </div>\r\n  }\r\n     </React.Fragment>\r\n     \r\n\r\n   )\r\n }\r\n}\r\nexport default Masgpage;"]},"metadata":{},"sourceType":"module"}
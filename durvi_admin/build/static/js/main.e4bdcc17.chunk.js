(this.webpackJsonpdurvi_app=this.webpackJsonpdurvi_app||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"loginPage":"https://durvi-fitness.herokuapp.com/admin/login","login":"https://durvi-fitness.herokuapp.com/api/common/login","registerNewBranch":"https://durvi-fitness.herokuapp.com/api/admin/registerNewBranch","branchDetails":"https://durvi-fitness.herokuapp.com/api/common/branchDetails","userDetails":"https://durvi-fitness.herokuapp.com/api/common/userDetails","userEdit":"https://durvi-fitness.herokuapp.com/api/common/editRegisteredUser","sendMessage":"https://durvi-fitness.herokuapp.com/api/common/customMessageSend","userPayment":"https://durvi-fitness.herokuapp.com/api/common/paymentUser"}')},120:function(e,t,a){},146:function(e,t,a){var s={"./ar":64,"./ar.js":64,"./az":65,"./az.js":65,"./be":66,"./be.js":66,"./bg":67,"./bg.js":67,"./bs":68,"./bs.js":68,"./ca":69,"./ca.js":69,"./cs":70,"./cs.js":70,"./cy":71,"./cy.js":71,"./da":72,"./da.js":72,"./de":73,"./de.js":73,"./el":74,"./el.js":74,"./en":51,"./en.js":51,"./es":75,"./es.js":75,"./et":76,"./et.js":76,"./eu":77,"./eu.js":77,"./fa":78,"./fa.js":78,"./fi":79,"./fi.js":79,"./fr":80,"./fr.js":80,"./hr":81,"./hr.js":81,"./hu":82,"./hu.js":82,"./id":83,"./id.js":83,"./it":84,"./it.js":84,"./ja":85,"./ja.js":85,"./ka":86,"./ka.js":86,"./ko":87,"./ko.js":87,"./lt":88,"./lt.js":88,"./lv":89,"./lv.js":89,"./mk":90,"./mk.js":90,"./mn":91,"./mn.js":91,"./ms":92,"./ms.js":92,"./nb_NO":93,"./nb_NO.js":93,"./nl":94,"./nl.js":94,"./pl":95,"./pl.js":95,"./pt":96,"./pt.js":96,"./pt_BR":97,"./pt_BR.js":97,"./ro":98,"./ro.js":98,"./ru":99,"./ru.js":99,"./se":100,"./se.js":100,"./sl":101,"./sl.js":101,"./sq":102,"./sq.js":102,"./sr":103,"./sr.js":103,"./sv":104,"./sv.js":104,"./tr":105,"./tr.js":105,"./ua":106,"./ua.js":106,"./uk":107,"./uk.js":107,"./vi":108,"./vi.js":108,"./zh":109,"./zh.js":109,"./zh_TW":110,"./zh_TW.js":110};function r(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id=146},155:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),n=a(32),i=a.n(n),c=(a(120),a(15)),o=a(16),l=a(18),d=a(17),h=(a(121),a(7)),j=a.n(h),u=a(13),b=a(11),m=a(19),x=a.n(m),p=a(12),O=a(0),f=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={details:s.props.details},s}return Object(o.a)(a,[{key:"loginAgain",value:function(){window.location.href=p.loginPage}},{key:"render",value:function(){var e=this.state.details;return console.log("dgfdf",e),Object(O.jsx)("div",{style:{backgroundColor:"#D6EAF880"},className:"container-fluid",children:"error"==e.status?Object(O.jsx)("h1",{children:"Error: Please retry later. If the error persists, contact the admin."}):Object(O.jsx)(O.Fragment,{children:403==e.status?Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsx)("h1",{children:"Your session has expired! Please Login again!"}),Object(O.jsx)("button",{type:"primary",onClick:this.loginAgain(),children:"OK"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Page Not found"}),Object(O.jsx)("h1",{children:"We are Sorry, Page Not Found"}),Object(O.jsx)("h3",{children:"The page you are looking is Temporary Unavailable. Please try after some time. If this continues please contact team."})]})})})}}]),a}(r.a.Component),g=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).todate=new Date,s.month=("0"+(s.todate.getMonth()+1)).slice(-2),s.date=("0"+s.todate.getDate()).slice(-2),s.day=s.todate.getDay(),s.formatedDate="".concat(s.todate.getFullYear(),"-").concat(s.month,"-").concat(s.date),s.state={branchData:[],apiError:null,clCode:"",cl:"",rmCode:"",clStatus:"",token:localStorage.getItem("adminToken"),weekDay:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],value:"Today is holiday",status:!1},s.handleChange=s.handleChange.bind(Object(b.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(b.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getDetails()}},{key:"getDetails",value:function(){var e=Object(u.a)(j.a.mark((function e(){var t,a,s,r=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.branchDetails,a=[],e.next=4,x.a.get(t,{headers:{Authorization:this.state.token}}).then((function(e){"error"==e.data.status?r.setState({apiError:e.data}):a=e.data})).catch((function(e){console.log(e),r.setState({apiError:e.response})}));case 4:s=a.filter((function(e){return"Manager"==e.role})),this.setState({branchData:s});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showDetails",value:function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.history.push({pathname:"/admin/showusers/"+t.branchCode,state:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){console.log(this.state.value),this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=p.sendMessage,s={message:this.state.value};x.a.post(a,s,{headers:{Authorization:this.state.token}}).then((function(e){console.log(e),"error"==e.data.status?t.setState({apiError:e.data}):alert("message sent successfully")})).catch((function(e){console.log(e),t.setState({apiError:e})}))}},{key:"render",value:function(){var e=this;return Object(O.jsx)(r.a.Fragment,{children:this.state.apiError?Object(O.jsx)(f,{details:this.state.apiError}):Object(O.jsx)(O.Fragment,{children:0==this.state.branchData.length?Object(O.jsxs)("div",{className:"d-flex justify-content-center mt-5",children:[Object(O.jsx)("h3",{children:" Loading"})," ",Object(O.jsx)("div",{className:"spinner-border",style:{width:"3rem",height:"3rem",color:"green"},role:"status"})]}):Object(O.jsx)("div",{style:{backgroundColor:"#EAEDED "},className:"container-fluid",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-6 offset-3",children:Object(O.jsxs)("div",{style:{padding:5,marginBottom:5},children:[Object(O.jsx)("h5",{className:"text-center",style:{fontSize:20,fontWeight:"bold"},children:"Branch's Details"}),Object(O.jsxs)("div",{className:"row",style:{fontSize:20,fontWeight:"bold"},children:[Object(O.jsxs)("div",{className:"col-6 text-center",children:[this.state.weekDay[this.day]," "]}),Object(O.jsxs)("div",{className:"col-6 text-center",children:[this.formatedDate," "]})]}),Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("form",{onSubmit:this.handleSubmit,className:"form-control",children:[Object(O.jsx)("label",{children:"  Write message:"}),Object(O.jsx)("input",{value:this.state.value,onChange:this.handleChange,style:{width:"80%"}}),Object(O.jsx)("button",{type:"Send to all",className:"btn btn-primary btn-sm",children:"Submit"})]})}),Object(O.jsx)("hr",{}),this.state.branchData.map((function(t,a){return Object(O.jsxs)("table",{className:"table table-info",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Branch Code"}),Object(O.jsx)("td",{className:"text-center",children:t.branchCode})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Name"}),Object(O.jsx)("td",{className:"text-center",children:t.userName})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Mobile Number"}),Object(O.jsx)("td",{className:"text-center",children:t.mobileNumber})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Total User"}),Object(O.jsx)("td",{className:"text-center",children:t.totalUser})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Location"}),Object(O.jsx)("td",{className:"text-center",children:t.address})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Show all user"}),Object(O.jsx)("td",{className:"text-center",children:Object(O.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.showDetails(t)},children:"Show User"})})]})]})]},a)}))]})})})})})})}}]),a}(s.Component),v=a(29),N=a.n(v),y=a(34),D=(a(38),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={token:"",apiError:null,fields:{userName:"",password:""},errors:{}},s.form=new N.a(Object(b.a)(s),{locale:"en"}),s.form.useRules({userName:"required",password:"required"}),s.form.onformsubmit=function(e){s.postData(e),console.log(e)},s}return Object(o.a)(a,[{key:"postData",value:function(){var e=Object(u.a)(j.a.mark((function e(t){var a,s,r=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.login,s={userName:t.userName,password:t.password},console.log(s),e.next=5,x.a.post(a,s).then((function(e){"error"==e.data.status?r.setState({apiError:e.data}):"wrong credential"==e.data||"Admin"!=e.data.role?alert("enter correct name and password"):(localStorage.setItem("adminToken","Bearer "+e.data.token),window.location="/admin/home")}),(function(e){r.setState({apiError:e.response})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(O.jsx)("div",{className:"container-fluid bg",children:this.state.apiError?Object(O.jsx)(f,{details:this.state.apiError}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"row ",children:Object(O.jsxs)("div",{className:"card col-4  login-card  offset-4 my-5  Login-component ",style:{color:"#D7DBDD80"},children:[Object(O.jsx)("div",{className:"row ",style:{margin:1},children:Object(O.jsx)("div",{className:"col-12 font-weight-bold text-center mt-5",children:Object(O.jsx)("h1",{className:"letterFormate",children:"Admin Login "})})}),Object(O.jsx)("div",{className:"row  my-2",children:Object(O.jsx)("div",{className:"  col-8 offset-2 ",style:{border:"none"},children:Object(O.jsxs)(y.a,{className:"myForm",noValidate:!0,onSubmit:this.form.handleSubmit,children:[Object(O.jsxs)(y.a.Group,{className:"my-4",children:[Object(O.jsxs)(y.a.Label,{children:[" User Name ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"userName",style:{backgroundColor:"#D7DBDD"},onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.userName,"data-attribute-name":""}),Object(O.jsx)("div",{className:"text-warning",children:this.state.errors.userName?this.state.errors.userName:""})]}),Object(O.jsxs)(y.a.Group,{className:"mt-4",children:[Object(O.jsxs)(y.a.Label,{children:["Password ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"password",name:"password",style:{backgroundColor:"#D7DBDD"},onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.password,"data-attribute-name":""}),Object(O.jsx)("div",{className:" text-warning",children:this.state.errors.password?this.state.errors.password:""})]}),Object(O.jsx)("button",{type:"submit",className:"btn my-4 text-light text-bold bg-lg bg-warning",children:"Login"})]})})})]})})})})}}]),a}(r.a.Component)),C=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(c.a)(this,a),s=t.call(this,e);var r=new Date,n=("0"+(r.getMonth()+1)).slice(-2),i=("0"+r.getDate()).slice(-2),o="".concat(r.getFullYear(),"-").concat(n,"-").concat(i);return s.state={token:localStorage.getItem("adminToken"),apiError:null,fields:{joiningDate:o,branchCode:"",userName:"",mobileNumber:"",branchAddress:"",password:""},errors:{}},s.form=new N.a(Object(b.a)(s),{locale:"en"}),s.form.useRules({joiningDate:"required",userName:"required",branchAddress:"required",mobileNumber:"required|numeric|digits:10",password:"required"}),s.form.onformsubmit=function(e){s.postData(e),console.log(e)},s}return Object(o.a)(a,[{key:"postData",value:function(){var e=Object(u.a)(j.a.mark((function e(t){var a,s,r=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.registerNewBranch,s={todayDate:t.joiningDate,userName:t.userName,address:t.branchAddress,mobileNumber:t.mobileNumber,password:t.password},console.log(s),e.next=5,x.a.post(a,s,{headers:{Authorization:this.state.token}}).then((function(e){"error"==e.data.status?r.setState({apiError:e.data}):r.props.history.push("/admin/home")})).catch((function(e){r.setState({apiError:e.response})}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(O.jsxs)("div",{style:{backgroundColor:"#F8C47180"},className:"container-fluid",children:[this.state.apiError?Object(O.jsx)(f,{details:this.state.apiError}):Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col-lg-8 col-md-8 col-sm-12 col-xs-12 offset-lg-2 offset-md-2",children:[Object(O.jsx)("div",{className:"row ",style:{margin:1},children:Object(O.jsx)("div",{className:"col-12 font-weight-bold text-center  p-4",children:Object(O.jsx)("h1",{className:"letterFormate",children:"Add New Branch Form"})})}),Object(O.jsx)("div",{className:"bg-light p-5 mb-3",style:{margin:1,borderRadius:"3%"},children:Object(O.jsxs)(y.a,{className:"myForm",noValidate:!0,onSubmit:this.form.handleSubmit,children:[Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Date ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"date",name:"joiningDate",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.joiningDate,"data-attribute-name":""}),Object(O.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.joiningDate?this.state.errors.joiningDate:""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" User Name ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"userName",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.userName,"data-attribute-name":""}),Object(O.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.userName?this.state.errors.userName:""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Create Password ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"password",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.password,"data-attribute-name":""}),Object(O.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.password?this.state.errors.password:""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Mobile Number ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"mobileNumber",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.mobileNumber,"data-attribute-name":""}),Object(O.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.mobileNumber?this.state.errors.mobileNumber:""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Branch Address ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"branchAddress",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.branchAddress,"data-attribute-name":""}),Object(O.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.branchAddress?this.state.errors.branchAddress:""})]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Submit"})]})})]})})," "]})}}]),a}(r.a.Component),k=a(112),w=a(157),S=a(158),E=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).d=new Date,s.month=("0"+(s.d.getMonth()+1)).slice(-2),s.date=("0"+s.d.getDate()).slice(-2),s.day=s.d.getDay(),s.dformat=[s.day,s.month,s.d.getFullYear(),s.date],s.handleSearchInput=function(e){var t=e.target.value.toLowerCase(),a=s.state.allData.filter((function(e){if(e.userName.toLowerCase().match(t))return e}));0!=a.length?s.setState({userData:a}):(s.setState({userData:s.state.allData}),alert("User name not exist"))},s.state={optionRadio:["3 Months","6 Months","1 Year"],showModal:!1,sendData:{},apiError:null,showPaymentModal:!1,userData:[],allData:[],paymentData:{},branchCode:s.props.match.params.branch,token:localStorage.getItem("adminToken"),weekDay:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],textValue:"Today is holiday.",fields:{sNo:"",userName:"",mobileNumber:"",joiningDate:"",dueDate:"",status:"",branchCode:"",subscription:"None",amount:""},errors:{}},s.form=new N.a(Object(b.a)(s),{locale:"en"}),s.form.useRules({userName:"required",mobileNumber:"required|numeric",branchCode:"required",amount:"required|numeric",status:"required",subscription:"required"}),s.paymentSubmit=s.paymentSubmit.bind(Object(b.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(b.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getDetails()}},{key:"getDetails",value:function(){var e=Object(u.a)(j.a.mark((function e(){var t,a,s=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.state.branchCode),t=p.userDetails+"?branch="+this.state.branchCode,console.log(t,this.state.token),a=[],e.next=6,x.a.get(t,{headers:{Authorization:this.state.token}}).then((function(e){"error"==e.data.status?s.setState({apiError:e.data}):a=e.data})).catch((function(e){e.response?s.setState({apiError:e.response}):s.setState({apiError:{status:"Network Error"}})}));case 6:"Add user"==a&&(alert("Ask Brach Manager to add user"),this.props.history.push("/admin/home")),this.setState({userData:a,allData:a});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleCloseShow",value:function(){this.setState({showModal:!1})}},{key:"handleSubmitShow",value:function(){this.setState({showModal:!1})}},{key:"showData",value:function(e){this.setState({showModal:!0,sendData:e})}},{key:"handleClosePayment",value:function(){this.setState({showPaymentModal:!1})}},{key:"handleSubmitPayment",value:function(){var e=Object(u.a)(j.a.mark((function e(){var t,a=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("data",this.state.fields.amount),""!=this.state.fields.amount){e.next=6;break}return alert("Enter Amount"),e.abrupt("return",!1);case 6:return console.log(this.state.fields),t=p.userPayment,e.next=10,x.a.put(t,this.state.fields,{headers:{Authorization:this.state.token}}).then((function(e){"error"==e.data.status?a.setState({apiError:e.data}):a.setState({showPaymentModal:"false"})})).catch((function(e){e.response?a.setState({apiError:e.response}):a.setState({apiError:{status:"Network Error"}})}));case 10:this.setState({showPaymentModal:!1}),this.getDetails();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"paymentSubmit",value:function(e){console.log(e),this.setState({showPaymentModal:!0});var t={sNo:e.sNo,userName:e.userName,mobileNumber:e.mobileNumber,branchCode:e.branchCode,amount:"",joiningDate:e.joiningDate,dueDate:e.dueDate,status:e.status,subscription:"None"};this.setState({fields:t})}},{key:"editData",value:function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.history.push({pathname:"/admin/editData",state:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Filteration",value:function(){var e=Object(u.a)(j.a.mark((function e(t){var a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,e.next=3,this.getDetails();case 3:"All"!=a&&(s=[],0!=(s=0!=a?this.state.userData.filter((function(e){return e.paymentDate==a})):this.state.userData.filter((function(e){return e.paymentDate<0}))).length?this.setState({userData:s}):alert("Data not find"));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){console.log(this.state.textValue)}},{key:"handleSubmit",value:function(){var e=Object(u.a)(j.a.mark((function e(t){var a,s,r=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=p.sendMessage,s={message:this.state.value,branchCode:this.state.branchCode},e.next=5,x.a.post(a,s,{headers:{Authorization:this.state.token}}).then((function(e){"error"==e.data.status?r.setState({apiError:e.data}):alert("message sent successfully")})).catch((function(e){e.response?r.setState({apiError:e.response}):r.setState({apiError:{status:"Network Error"}})}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.state.textValue),Object(O.jsx)(r.a.Fragment,{children:this.state.apiError?Object(O.jsx)(f,{details:this.state.apiError}):Object(O.jsx)(O.Fragment,{children:0==this.state.userData.length?Object(O.jsxs)("div",{className:"d-flex justify-content-center mt-5",children:[Object(O.jsx)("h3",{children:" Loading"})," ",Object(O.jsx)("div",{className:"spinner-border",style:{width:"3rem",height:"3rem",color:"green"},role:"status"})]}):Object(O.jsxs)("div",{style:{backgroundColor:"whitesmoke"},className:"container-fluid",children:[Object(O.jsxs)("div",{style:{padding:5,marginBottom:5},children:[Object(O.jsx)("div",{className:"row m-5",children:Object(O.jsxs)("form",{onSubmit:this.handleSubmit,className:"form-control",children:[Object(O.jsx)("label",{children:"  Write message:"}),Object(O.jsx)("input",{value:this.state.textValue,onChange:this.handleChange,style:{width:"80%"}}),Object(O.jsx)("button",{type:"Send to all",className:"btn btn-primary btn-sm",children:"Submit"})]})}),Object(O.jsxs)("div",{className:"row m-4",children:[Object(O.jsx)("div",{className:"col-6",children:Object(O.jsx)(k.a,{onChange:this.handleSearchInput,value:this.state.searchText,type:"text",placeholder:"Search by name"})}),Object(O.jsx)("div",{className:"col-6",children:Object(O.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(t){return e.Filteration(t)},children:[Object(O.jsx)("option",{value:"All",children:"All"}),Object(O.jsx)("option",{value:"3",children:"Three day due date"}),Object(O.jsx)("option",{value:"2",children:"Two day due date"}),Object(O.jsx)("option",{value:"1",children:"Ond day due date"}),Object(O.jsx)("option",{value:"0",children:"Expiry"})]})})]}),Object(O.jsx)("div",{className:"table-responsive-sm",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"col",children:"User Name"}),Object(O.jsx)("th",{scope:"col",children:"Mobile Number"}),Object(O.jsx)("th",{scope:"col",children:"Joining Date"}),Object(O.jsx)("th",{scope:"col",children:"Expiry Date"}),Object(O.jsx)("th",{scope:"col",children:"Subscription"}),Object(O.jsx)("th",{scope:"col",children:"Amount"}),Object(O.jsx)("th",{scope:"col",children:"Payment"}),Object(O.jsx)("th",{scope:"col",children:"Status"}),Object(O.jsx)("th",{scope:"col",children:"Action"})]})}),Object(O.jsx)("tbody",{children:this.state.userData.map((function(t,a){return t.paymentDate<=1&&"Active"==t.status?Object(O.jsxs)("tr",{class:"table-danger",children:[Object(O.jsx)("th",{scope:"row",className:"text-primary",onClick:function(){return e.showData(t)},children:t.userName}),Object(O.jsx)("td",{children:t.mobileNumber}),Object(O.jsx)("td",{children:t.joiningDate}),Object(O.jsx)("td",{children:t.dueDate}),Object(O.jsx)("td",{children:t.subscription}),Object(O.jsx)("td",{children:t.amount}),Object(O.jsx)("td",{children:Object(O.jsx)(w.a,{className:"btn btn-primary",onClick:function(){return e.paymentSubmit(t)},children:"Payment"})}),Object(O.jsx)("td",{children:t.status}),Object(O.jsxs)("td",{children:["   ",Object(O.jsx)(w.a,{className:"btn btn-primary",onClick:function(){return e.editData(t)},children:"Edit"})]})]}):2==t.paymentDate&&"Active"==t.status?Object(O.jsxs)("tr",{class:"table-warning",children:[Object(O.jsx)("th",{scope:"row",className:"text-primary",onClick:function(){return e.showData(t)},children:t.userName}),Object(O.jsx)("td",{children:t.mobileNumber}),Object(O.jsx)("td",{children:t.joiningDate}),Object(O.jsx)("td",{children:t.dueDate}),Object(O.jsx)("td",{children:t.subscription}),Object(O.jsx)("td",{children:t.amount}),Object(O.jsxs)("td",{children:["   ",Object(O.jsx)(w.a,{className:"btn btn-primary",onClick:function(){return e.paymentSubmit(t)},children:"Payment"})]}),Object(O.jsx)("td",{children:t.status}),Object(O.jsxs)("td",{children:["   ",Object(O.jsx)(w.a,{className:"btn btn-primary",onClick:function(){return e.editData(t)},children:"Edit"})]})]}):3==t.paymentDate&&"Active"==t.status?Object(O.jsxs)("tr",{className:"table-success",children:[Object(O.jsx)("th",{scope:"row",className:"text-primary",onClick:function(){return e.showData(t)},children:t.userName}),Object(O.jsx)("td",{children:t.mobileNumber}),Object(O.jsx)("td",{children:t.joiningDate}),Object(O.jsx)("td",{children:t.dueDate}),Object(O.jsx)("td",{children:t.subscription}),Object(O.jsx)("td",{children:t.amount}),Object(O.jsxs)("td",{children:["   ",Object(O.jsx)(w.a,{className:"btn btn-primary",onClick:function(){return e.paymentSubmit(t)},children:"Payment"})]}),Object(O.jsx)("td",{children:t.status}),Object(O.jsxs)("td",{children:["   ",Object(O.jsx)(w.a,{className:"btn btn-primary",onClick:function(){return e.editData(t)},children:"Edit"})]})]}):"Inactive"==t.status?Object(O.jsxs)("tr",{className:"table-dark",children:[Object(O.jsx)("th",{scope:"row",className:"text-primary",onClick:function(){return e.showData(t)},children:t.userName}),Object(O.jsx)("td",{children:t.mobileNumber}),Object(O.jsx)("td",{children:t.joiningDate}),Object(O.jsx)("td",{children:t.dueDate}),Object(O.jsx)("td",{children:t.subscription}),Object(O.jsx)("td",{children:t.amount}),Object(O.jsxs)("td",{children:["   ",Object(O.jsx)(w.a,{className:"btn btn-primary",onClick:function(){return e.paymentSubmit(t)},children:"Payment"})]}),Object(O.jsx)("td",{children:t.status}),Object(O.jsxs)("td",{children:["   ",Object(O.jsx)(w.a,{className:"btn btn-primary",onClick:function(){return e.editData(t)},children:"Edit"})]})]}):Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"row",className:"text-primary",onClick:function(){return e.showData(t)},children:t.userName}),Object(O.jsx)("td",{children:t.mobileNumber}),Object(O.jsx)("td",{children:t.joiningDate}),Object(O.jsx)("td",{children:t.dueDate}),Object(O.jsx)("td",{children:t.subscription}),Object(O.jsx)("td",{children:t.amount}),Object(O.jsxs)("td",{children:["   ",Object(O.jsx)(w.a,{className:"btn btn-primary",onClick:function(){return e.paymentSubmit(t)},children:"Payment"})]}),Object(O.jsx)("td",{children:t.status}),Object(O.jsxs)("td",{children:["   ",Object(O.jsx)(w.a,{className:"btn btn-primary",onClick:function(){return e.editData(t)},children:"Edit"})]})]})}))})]})})]}),Object(O.jsxs)(S.a,{show:this.state.showModal,onHide:function(){return e.handleCloseShow()},size:"lg",children:[Object(O.jsx)(S.a.Header,{closeButton:!0,children:Object(O.jsxs)(S.a.Title,{children:[this.state.sendData.userName," Details"]})}),Object(O.jsx)(S.a.Body,{children:Object(O.jsxs)(y.a,{className:"myForm",children:[Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Branch Code ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"branchCode",disabled:!0,value:this.state.sendData.branchCode,"data-attribute-name":""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" User Name ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"userName",value:this.state.sendData.userName,"data-attribute-name":""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Mobile Number ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"mobileNumber",value:this.state.sendData.mobileNumber,"data-attribute-name":""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Joining Date ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"joiningDate",value:this.state.sendData.joiningDate,"data-attribute-name":""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Paid Date ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"paidDate",value:this.state.sendData.paidDate,"data-attribute-name":""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Due Date ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"dueDate",value:this.state.sendData.dueDate,"data-attribute-name":""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Status ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"status",value:this.state.sendData.status,"data-attribute-name":""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Subscription ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"subscription",value:this.state.sendData.subscription,"data-attribute-name":""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Amount ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"amount",value:this.state.sendData.amount,"data-attribute-name":""})]})]})}),Object(O.jsx)(S.a.Footer,{children:Object(O.jsx)(w.a,{variant:"primary",onClick:function(){return e.handleSubmitShow()},children:"Ok"})})]}),Object(O.jsxs)(S.a,{show:this.state.showPaymentModal,onHide:function(){return e.handleClosePayment()},size:"lg",children:[Object(O.jsx)(S.a.Header,{closeButton:!0,children:Object(O.jsxs)(S.a.Title,{children:[this.state.fields.userName," Payment Submit"]})}),Object(O.jsx)(S.a.Body,{children:Object(O.jsxs)(y.a,{className:"myForm",children:[Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" User Name ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"userName",value:this.state.fields.userName,disabled:!0,"data-attribute-name":""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Mobile Number ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"number",name:"mobileNumber",value:this.state.fields.mobileNumber,disabled:!0,"data-attribute-name":""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Payment Date ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"date",name:"dueDate",value:this.state.fields.dueDate,"data-attribute-name":""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:["Subscription ",Object(O.jsx)("i",{className:"text-danger",children:"*"})]}),this.state.optionRadio.map((function(t,a){return Object(O.jsx)(y.a.Check,{type:"radio",className:"p-1",name:"subscription",onChange:e.form.handleChangeEvent,value:t,id:t,label:t,custom:!0},a)}))]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Amount ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"number",name:"amount",onChange:this.form.handleChangeEvent,onBlur:this.form.handleBlurEvent,"data-attribute-name":""}),Object(O.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.amount?this.state.errors.amount:""})]})]})}),Object(O.jsx)(S.a.Footer,{children:Object(O.jsx)(w.a,{variant:"primary",onClick:function(){return e.handleSubmitPayment()},children:"Submit"})})]})]})})})}}]),a}(s.Component),B=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(c.a)(this,a);var r=(s=t.call(this,e)).props.location.state;return console.log(typeof r.mobileNumber),s.state={option:["Active","Inactive"],apiError:null,optionRadio:["3 Months","6 Months","1 Year"],token:localStorage.getItem("adminToken"),fields:{sNo:r.sNo,userName:r.userName,mobileNumber:r.mobileNumber,joiningDate:r.joiningDate,paidDate:r.paidDate,dueDate:r.dueDate,status:r.status,branchCode:r.branchCode,subscription:r.subscription,amount:r.amount},errors:{}},s.form=new N.a(Object(b.a)(s),{locale:"en"}),s.form.useRules({userName:"required",mobileNumber:"required|numeric",branchCode:"required",amount:"required|numeric",paidDate:"required",status:"required",subscription:"required"}),s.form.onformsubmit=function(e){s.postData(e),console.log(e)},s}return Object(o.a)(a,[{key:"postData",value:function(){var e=Object(u.a)(j.a.mark((function e(t){var a,s=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.userEdit,e.next=3,x.a.put(a,t,{headers:{Authorization:this.state.token}}).then((function(e){"error"==e.data.status?s.setState({apiError:e.data}):s.props.history.push("/admin/home")})).catch((function(e){s.setState({apiError:e.response})}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{style:{backgroundColor:"#D7DBDD"},className:"container-fluid",children:Object(O.jsx)("div",{style:{padding:5,marginBottom:5},children:this.state.apiError?Object(O.jsx)(f,{details:this.state.apiError}):Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col-8 offset-2 bg-light p-4 my-3",style:{borderRadius:"3%"},children:[Object(O.jsx)("h2",{className:"text-center",children:"Edit Details"}),Object(O.jsxs)(y.a,{className:"myForm",noValidate:!0,onSubmit:this.form.handleSubmit,children:[Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Branch Code ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"branchCode",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.branchCode,"data-attribute-name":""}),Object(O.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.branchCode?this.state.errors.branchCode:""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" User Name ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"userName",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.userName,"data-attribute-name":""}),Object(O.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.userName?this.state.errors.userName:""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Mobile Number ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"mobileNumber",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.mobileNumber,"data-attribute-name":""}),Object(O.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.mobileNumber?this.state.errors.mobileNumber:""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Paid Date ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"date",name:"paidDate",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.paidDate,"data-attribute-name":""}),Object(O.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.paidDate?this.state.errors.paidDate:""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:["Select Status ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsxs)(y.a.Control,{as:"select",name:"status",value:this.state.fields.status,onChange:this.form.handleChangeEvent,onBlur:this.form.handleBlurEvent,"data-attribute-name":"",custom:!0,className:"form-control",children:[Object(O.jsx)("option",{value:"Choose",children:"Choose ..."}),this.state.option.map((function(e,t){return Object(O.jsx)("option",{value:e,children:e},t)}))]}),Object(O.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.status?this.state.errors.status:""})]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:["Subscription ",Object(O.jsx)("i",{className:"text-danger",children:"*"})]}),this.state.optionRadio.map((function(t,a){return Object(O.jsx)(y.a.Check,{type:"radio",className:"p-1",name:"subscription",onChange:e.form.handleChangeEvent,value:t,id:t,label:t,custom:!0},a)}))]}),Object(O.jsxs)(y.a.Group,{children:[Object(O.jsxs)(y.a.Label,{children:[" Amount ",Object(O.jsx)("i",{className:"text-danger",children:"*"})," "]}),Object(O.jsx)(y.a.Control,{type:"text",name:"amount",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.amount,"data-attribute-name":""}),Object(O.jsx)("div",{className:"alert-danger text-danger",children:this.state.errors.amount?this.state.errors.amount:""})]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Submit"})]})]})})})})}}]),a}(s.Component),L=a(114),A=a(8),M=a(160),F=a(159),P=function(e){var t=e.login;console.log("login",t);return Object(O.jsxs)(L.a,{children:[Object(O.jsxs)(M.a,{className:"color",expand:"lg",variant:"dark",children:[Object(O.jsx)(M.a.Brand,{href:"https://durvi-fitness.herokuapp.com",target:"_blank",rel:"noopener noreferrer",children:Object(O.jsx)("img",{src:"https://i.ibb.co/G5DGRn5/2.png",height:50,width:60,className:"mx-2"})}),Object(O.jsx)(M.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsx)(M.a.Collapse,{id:"basic-navbar-nav",children:t?Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsxs)(F.a,{className:"me-auto",children:[Object(O.jsx)(F.a.Link,{href:"/admin/home",children:"Home"}),Object(O.jsx)(F.a.Link,{href:"/admin/addbranch",children:"Add New Branch"})]}),Object(O.jsx)(F.a,{className:"mr-auto",children:Object(O.jsx)(F.a.Link,{href:"/admin/login",onClick:function(){localStorage.removeItem("adminToken"),console.log(t),t=void 0},children:"Logout"})})]}):Object(O.jsx)(F.a,{className:"me-auto",children:Object(O.jsx)(F.a.Link,{href:"/admin/login",children:"Login"})})})]}),Object(O.jsxs)(A.d,{children:[Object(O.jsx)(A.b,{path:"/admin/login",component:D}),Object(O.jsx)(A.b,{path:"/admin/showusers/:branch",component:E}),Object(O.jsx)(A.b,{path:"/admin/addbranch",component:C}),Object(O.jsx)(A.b,{path:"/admin/home",component:g}),Object(O.jsx)(A.b,{path:"/admin/editData",component:B}),Object(O.jsx)(A.a,{to:"/admin/login"})]})]})},G=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("adminToken");this.setState({login:e})}},{key:"render",value:function(){return console.log(this.state.login),Object(O.jsx)("div",{children:Object(O.jsx)(P,{login:this.state.login})})}}]),a}(s.Component),T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,161)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),r(e),n(e),i(e)}))};i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(G,{})}),document.getElementById("root")),T()},38:function(e,t,a){}},[[155,1,2]]]);
//# sourceMappingURL=main.e4bdcc17.chunk.js.map
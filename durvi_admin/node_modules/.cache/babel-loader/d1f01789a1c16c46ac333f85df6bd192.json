{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Desktop/Project/durvi_admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/HP/Desktop/Project/durvi_admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/HP/Desktop/Project/durvi_admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/HP/Desktop/Project/durvi_admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/HP/Desktop/Project/durvi_admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/HP/Desktop/Project/durvi_admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import config from\"../config.json\";//import http from \"../services/auth\"\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Homepage=/*#__PURE__*/function(_Component){_inherits(Homepage,_Component);var _super=_createSuper(Homepage);function Homepage(props){var _this;_classCallCheck(this,Homepage);_this=_super.call(this,props);_this.todate=new Date();_this.month=(\"0\"+(_this.todate.getMonth()+1)).slice(-2);_this.date=(\"0\"+_this.todate.getDate()).slice(-2);_this.day=_this.todate.getDay();_this.formatedDate=\"\".concat(_this.todate.getFullYear(),\"-\").concat(_this.month,\"-\").concat(_this.date);_this.state={branchData:[],clCode:\"\",cl:\"\",rmCode:\"\",clStatus:\"\",weekDay:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],status:false};console.log(_this.state.status);return _this;}_createClass(Homepage,[{key:\"componentDidMount\",value:function componentDidMount(){this.getDetails();}},{key:\"getDetails\",value:function(){var _getDetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var url,branchData,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=config.branchDetails;_context.next=3;return axios.get(url,{headers:{'Authorization':this.state.token}}).then(function(resp){return resp.data;}).catch(function(error){if(error.response.status===403){alert(\"Your session has expired! Please Login again!\");_this2.props.history.push(\"/rmPortal\");}});case 3:branchData=_context.sent;data=branchData.filter(function(obj){return obj.role==\"Manager\";});this.setState({branchData:data});case 6:case\"end\":return _context.stop();}}},_callee,this);}));function getDetails(){return _getDetails.apply(this,arguments);}return getDetails;}()},{key:\"showDetails\",value:function(){var _showDetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.props.history.push({pathname:'/admin/showusers/'+data.branchCode,state:data});case 2:case\"end\":return _context2.stop();}}},_callee2,this);}));function showDetails(_x){return _showDetails.apply(this,arguments);}return showDetails;}()},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(React.Fragment,{children:this.state.branchData.length==0?/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-center mt-5\",children:/*#__PURE__*/_jsx(\"div\",{class:\"spinner-border\",style:{width:\"3rem\",height:\"3rem\",color:\"green\"},role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{class:\"sr-only text-warning \",children:\"Loading...\"})})}):/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"#EAEDED \"},className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-6 offset-3\",children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:5,marginBottom:5},children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-center\",style:{fontSize:20,fontWeight:'bold'},children:\"Branch's Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{fontSize:20,fontWeight:'bold'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 text-center\",children:[this.state.weekDay[this.day],\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 text-center\",children:[this.formatedDate,\" \"]})]}),/*#__PURE__*/_jsx(\"hr\",{}),this.state.branchData.map(function(data,index){return/*#__PURE__*/_jsxs(\"table\",{className:\"table table-info\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Branch Code\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:data.branchCode})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:data.userName})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Mobile Number\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:data.mobileNumber})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Total User\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:data.totalUser})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:data.address})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Show all user\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return _this3.showDetails(data);},children:\"Show User\"})})]})]})]},index);})]})})})})});}}]);return Homepage;}(Component);export default Homepage;","map":{"version":3,"sources":["C:/Users/HP/Desktop/Project/durvi_admin/src/components/Homepage.js"],"names":["React","Component","axios","config","Homepage","props","todate","Date","month","getMonth","slice","date","getDate","day","getDay","formatedDate","getFullYear","state","branchData","clCode","cl","rmCode","clStatus","weekDay","status","console","log","getDetails","url","branchDetails","get","headers","token","then","resp","data","catch","error","response","alert","history","push","filter","obj","role","setState","pathname","branchCode","length","width","height","color","backgroundColor","padding","marginBottom","fontSize","fontWeight","map","index","userName","mobileNumber","totalUser","address","showDetails"],"mappings":"i6BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA;2FACMC,CAAAA,Q,oGACJ,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EADiB,MAgBlBC,MAhBkB,CAgBT,GAAIC,CAAAA,IAAJ,EAhBS,OAiBlBC,KAjBkB,CAiBV,CAAC,KAAM,MAAKF,MAAL,CAAYG,QAAZ,GAAuB,CAA7B,CAAD,EAAkCC,KAAlC,CAAwC,CAAC,CAAzC,CAjBU,OAkBjBC,IAlBiB,CAkBV,CAAC,IAAK,MAAKL,MAAL,CAAYM,OAAZ,EAAN,EAA6BF,KAA7B,CAAmC,CAAC,CAApC,CAlBU,OAmBhBG,GAnBgB,CAmBV,MAAKP,MAAL,CAAYQ,MAAZ,EAnBU,OAoBlBC,YApBkB,WAoBA,MAAKT,MAAL,CAAYU,WAAZ,EApBA,aAoB6B,MAAKR,KApBlC,aAoB2C,MAAKG,IApBhD,EAGhB,MAAKM,KAAL,CAAa,CACZC,UAAU,CAAE,EADA,CAEZC,MAAM,CAAE,EAFI,CAGZC,EAAE,CAAC,EAHS,CAIZC,MAAM,CAAE,EAJI,CAKZC,QAAQ,CAAC,EALG,CAMZC,OAAO,CAAE,CAAC,QAAD,CAAW,QAAX,CAAqB,SAArB,CAAgC,WAAhC,CAA6C,UAA7C,CAAyD,QAAzD,CAAmE,UAAnE,CANG,CAQZC,MAAM,CAAC,KARK,CAAb,CAUDC,OAAO,CAACC,GAAR,CAAY,MAAKT,KAAL,CAAWO,MAAvB,EAbiB,aAelB,C,sDAOD,4BAAoB,CACrB,KAAKG,UAAL,GACE,C,6GACF,2KACOC,GADP,CACWzB,MAAM,CAAC0B,aADlB,uBAE4B3B,CAAAA,KAAK,CAC7B4B,GADwB,CACpBF,GADoB,CACf,CAAEG,OAAO,CAAE,CAAE,gBAAiB,KAAKd,KAAL,CAAWe,KAA9B,CAAX,CADe,EAE1BC,IAF0B,CAErB,SAAAC,IAAI,QAAEA,CAAAA,IAAI,CAACC,IAAP,EAFiB,EAG1BC,KAH0B,CAGpB,SAAAC,KAAK,CAAI,CACd,GAAGA,KAAK,CAACC,QAAN,CAAed,MAAf,GAAwB,GAA3B,CAA+B,CAC7Be,KAAK,CAAC,+CAAD,CAAL,CACA,MAAI,CAAClC,KAAL,CAAWmC,OAAX,CAAmBC,IAAnB,cACD,CACF,CAR0B,CAF5B,QAESvB,UAFT,eAWKiB,IAXL,CAWUjB,UAAU,CAACwB,MAAX,CAAkB,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAU,SAAZ,EAArB,CAXV,CAYC,KAAKC,QAAL,CAAc,CAAC3B,UAAU,CAACiB,IAAZ,CAAd,EAZD,2D,uMAcD,kBAAoBA,IAApB,6IACU,MAAK9B,KAAL,CAAWmC,OAAX,CAAmBC,IAAnB,CAAwB,CAC5BK,QAAQ,CAAE,oBAAoBX,IAAI,CAACY,UADP,CAE5B9B,KAAK,CAAEkB,IAFqB,CAAxB,CADV,8D,mHAOE,iBAAS,iBACP,mBACG,KAAC,KAAD,CAAO,QAAP,WACD,KAAKlB,KAAL,CAAWC,UAAX,CAAsB8B,MAAtB,EAA8B,CAA9B,cAAmC,YAAK,KAAK,CAAC,oCAAX,uBACpC,YAAK,KAAK,CAAC,gBAAX,CAA4B,KAAK,CAAE,CAACC,KAAK,CAAE,MAAR,CAAgBC,MAAM,CAAE,MAAxB,CAAgCC,KAAK,CAAC,OAAtC,CAAnC,CAAmF,IAAI,CAAC,QAAxF,uBACF,aAAM,KAAK,CAAC,uBAAZ,wBADE,EADoC,EAAnC,cAMC,YAAK,KAAK,CAAE,CAAEC,eAAe,CAAE,UAAnB,CAAZ,CAA6C,SAAS,CAAC,iBAAvD,uBACC,YAAK,SAAS,CAAC,KAAf,uBACI,YAAK,SAAS,CAAC,gBAAf,uBACA,aAAK,KAAK,CAAE,CAAEC,OAAO,CAAE,CAAX,CAAcC,YAAY,CAAE,CAA5B,CAAZ,wBACM,WAAI,SAAS,CAAC,aAAd,CAA4B,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAgBC,UAAU,CAAE,MAA5B,CAAnC,8BADN,cAEM,aAAK,SAAS,CAAC,KAAf,CAAqB,KAAK,CAAE,CAAED,QAAQ,CAAE,EAAZ,CAAgBC,UAAU,CAAE,MAA5B,CAA5B,wBACA,aAAK,SAAS,CAAC,mBAAf,WAAoC,KAAKvC,KAAL,CAAWM,OAAX,CAAmB,KAAKV,GAAxB,CAApC,OADA,cAEA,aAAK,SAAS,CAAC,mBAAf,WAAoC,KAAKE,YAAzC,OAFA,GAFN,cAMM,aANN,CAOO,KAAKE,KAAL,CAAWC,UAAX,CAAsBuC,GAAtB,CAA0B,SAACtB,IAAD,CAAOuB,KAAP,qBACzB,eAAO,SAAS,CAAC,kBAAjB,wBACA,oCACE,mCACE,mCADF,cAEE,WAAI,SAAS,CAAC,aAAd,UAA6BvB,IAAI,CAACY,UAAlC,EAFF,GADF,EADA,cAOA,sCACA,mCACI,4BADJ,cAEI,WAAI,SAAS,CAAC,aAAd,UAA6BZ,IAAI,CAACwB,QAAlC,EAFJ,GADA,cAKE,mCACE,qCADF,cAEE,WAAI,SAAS,CAAC,aAAd,UAA6BxB,IAAI,CAACyB,YAAlC,EAFF,GALF,cAUE,mCACE,kCADF,cAEE,WAAI,SAAS,CAAC,aAAd,UAA6BzB,IAAI,CAAC0B,SAAlC,EAFF,GAVF,cAeE,mCACE,gCADF,cAEE,WAAI,SAAS,CAAC,aAAd,UAA6B1B,IAAI,CAAC2B,OAAlC,EAFF,GAfF,cAoBE,mCACE,qCADF,cAEE,WAAI,SAAS,CAAC,aAAd,uBAA4B,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,yBAAI,CAAA,MAAI,CAACC,WAAL,CAAiB5B,IAAjB,CAAJ,EAA7C,uBAA5B,EAFF,GApBF,GAPA,GAAyCuB,KAAzC,CADyB,EAA1B,CAPP,GADA,EADJ,EADD,EAPA,EADH,CA4DD,C,sBA5GoBzD,S,EA+GvB,cAAeG,CAAAA,QAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport config from \"../config.json\";\r\n//import http from \"../services/auth\"\r\nclass Homepage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  \r\n     this.state = {\r\n      branchData: [],\r\n      clCode: \"\",\r\n      cl:\"\",\r\n      rmCode: \"\",\r\n      clStatus:\"\",\r\n      weekDay: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\r\n    \r\n      status:false\r\n    }\r\n    console.log(this.state.status);\r\n   \r\n  }\r\n   todate = new Date();\r\n   month = (\"0\"+ (this.todate.getMonth()+1)).slice(-2);\r\n    date = (\"0\"+ this.todate.getDate()).slice(-2);\r\n     day = this.todate.getDay();\r\n   formatedDate = `${this.todate.getFullYear()}-${this.month}-${this.date}`;\r\n  \r\n  componentDidMount() {\r\n this.getDetails();\r\n  }\r\n async  getDetails(){\r\n    let url=config.branchDetails;\r\n    const branchData = await axios\r\n    .get(url, { headers: { 'Authorization': this.state.token } })\r\n  .then(resp=>resp.data)\r\n  .catch(error => {\r\n    if(error.response.status===403){\r\n      alert(\"Your session has expired! Please Login again!\")\r\n      this.props.history.push(`/rmPortal`);\r\n    }\r\n  });\r\n  let data=branchData.filter(obj=>obj.role==\"Manager\");\r\n  this.setState({branchData:data});\r\n  }\r\nasync   showDetails(data){\r\n    await this.props.history.push({ \r\n      pathname: '/admin/showusers/'+data.branchCode,\r\n      state: data\r\n     });\r\n  }\r\n \r\n  render() {\r\n    return (\r\n       <React.Fragment>\r\n     {this.state.branchData.length==0? ( <div class=\"d-flex justify-content-center mt-5\">\r\n     <div class=\"spinner-border\" style={{width: \"3rem\", height: \"3rem\", color:\"green\"}} role=\"status\">\r\n   <span class=\"sr-only text-warning \">Loading...</span>\r\n </div></div>)\r\n :\r\n   \r\n    (  <div style={{ backgroundColor: \"#EAEDED \" }} className=\"container-fluid\">\r\n        <div className=\"row\">\r\n            <div className=\"col-6 offset-3\">\r\n            <div style={{ padding: 5, marginBottom: 5 }}>\r\n                  <h5 className=\"text-center\" style={{ fontSize: 20, fontWeight: 'bold' }}>Branch's Details</h5>\r\n                  <div className=\"row\" style={{ fontSize: 20, fontWeight: 'bold' }}>\r\n                  <div className=\"col-6 text-center\">{this.state.weekDay[this.day]} </div>\r\n                  <div className=\"col-6 text-center\">{this.formatedDate} </div>\r\n                  </div>\r\n                  <hr/>\r\n                  {this.state.branchData.map((data, index) => ( \r\n                    <table className=\"table table-info\" key={index}>\r\n                    <thead >\r\n                      <tr >\r\n                        <td>Branch Code</td>\r\n                        <td className=\"text-center\">{data.branchCode}</td>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr >\r\n                        <td>Name</td>\r\n                        <td className=\"text-center\">{data.userName}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>Mobile Number</td>\r\n                        <td className=\"text-center\">{data.mobileNumber}</td>\r\n\r\n                      </tr>\r\n                      <tr>\r\n                        <td>Total User</td>\r\n                        <td className=\"text-center\">{data.totalUser}</td>\r\n\r\n                      </tr>\r\n                      <tr>\r\n                        <td>Location</td>\r\n                        <td className=\"text-center\">{data.address}</td>\r\n\r\n                      </tr>\r\n                      <tr>\r\n                        <td>Show all user</td>\r\n                        <td className=\"text-center\"><button className=\"btn btn-primary\" onClick={()=>this.showDetails(data)}>Show User</button></td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                  ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        </div>)}\r\n    </React.Fragment>\r\n    );\r\n  } \r\n  \r\n}\r\nexport default Homepage;"]},"metadata":{},"sourceType":"module"}